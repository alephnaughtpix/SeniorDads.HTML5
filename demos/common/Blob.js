if("function"!==typeof Blob||"undefined"===typeof URL)if("function"===typeof Blob&&"undefined"!==typeof webkitURL)var URL=webkitURL;else var Blob=function(d){var p=d.BlobBuilder||d.WebKitBlobBuilder||d.MozBlobBuilder||d.MSBlobBuilder||function(b){var d=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},l=function(){this.data=[]},f=function(a,c,b){this.data=a;this.size=a.length;this.type=c;this.encoding=b},e=l.prototype,k=f.prototype,q=b.FileReaderSync,r=function(a){this.code=
this[this.name=a]},t="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),m=t.length,g=b.URL||b.webkitURL||b,u=g.createObjectURL,v=g.revokeObjectURL,n=g,w=b.btoa,x=b.atob,y=!1,p=function(a){y=!a},z=b.ArrayBuffer,h=b.Uint8Array;for(f.fake=k.fake=!0;m--;)r.prototype[t[m]]=m+1;try{h&&p.apply(0,new h(3528E4))}catch(A){}g.createObjectURL||(n=b.URL={});n.createObjectURL=function(a){var c=a.type;null===c&&(c="application/octet-stream");
if(a instanceof f)return c="data:"+c,"base64"===a.encoding?c+";base64,"+a.data:"URI"===a.encoding?c+","+decodeURIComponent(a.data):w?c+";base64,"+w(a.data):c+","+encodeURIComponent(a.data);if(u)return u.call(g,a)};n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&v&&v.call(g,a)};e.append=function(a){var c=this.data;if(h&&(a instanceof z||a instanceof h))if(y)c.push(String.fromCharCode.apply(String,new h(a)));else{var b="";a=new h(a);for(var e=0,g=a.length;e<g;e++)b+=String.fromCharCode(a[e]);
c.push(b)}else if("Blob"===d(a)||"File"===d(a))if(q)b=new q,c.push(b.readAsBinaryString(a));else throw new r("NOT_READABLE_ERR");else a instanceof f?"base64"===a.encoding&&x?c.push(x(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!==typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))};e.getBlob=function(a){arguments.length||(a=null);return new f(this.data.join(""),a,"raw")};e.toString=function(){return"[object BlobBuilder]"};k.slice=
function(a,b,e){var d=arguments.length;3>d&&(e=null);return new f(this.data.slice(a,1<d?b:this.data.length),e,this.encoding)};k.toString=function(){return"[object Blob]"};return l}(d);return function(b,d){var l=d?d.type||"":"",f=new p;if(b)for(var e=0,k=b.length;e<k;e++)f.append(b[e]);return f.getBlob(l)}}(self);
