SeniorDads.CreateNameSpace("SeniorDads.ScreenHandler");SeniorDads.ScreenHandler=function(c,e,l,p,f){void 0===f&&(f="#000000");var b=document.getElementById(e);null!=b&&b.parentNode.removeChild(b);var b=c.appendChild(document.createElement("div")),v=1,q={},r,t;b.id=e;b.style.width=l+"px";b.style.height=p+"px";b.style.backgroundColor=f;b.style.position="relative";this.add=function(a,w,m){q[e]=new SeniorDads.ScreenHandler.Screen(b,a,l,p,w,v++,m);return q[e]};this.WaitVbl=function(a,b){t=setTimeout(function(){window.requestAnimFrame(b)},20*a)};this.FlushWaitVbl=
function(){clearTimeout(t)};this.fullscreen=function(){c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullScreen&&c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)};SeniorDads.ScreenHandler.Screen=function(a,b,m,c,g,u,h){function e(){null!=h&&(r=h.imageData,k.drawImage(r,0,0),n=!0)}function f(){d.style.visibility="hidden"}void 0===h&&(h=null);var n=!1,l,d=a.appendChild(document.createElement("canvas"));d.id=b;d.width=m*g;d.height=c*g;
d.style.position="absolute";d.style.top="0px";d.style.left="0px";d.style.zIndex=u;var k=d.getContext("2d");k.setTransform(1,0,0,1,0,0);k.scale(g,g);k.imageSmoothingEnabled=!1;f();null!=h?h.loaded?e():h.loadedCallback=e:n=!0;Object.defineProperties(this,{loaded:{get:function(){return n}},resource_size:{get:function(){return 1}},resource_loaded:{get:function(){return n?1:0}},canvas:{get:function(){return d}},name:{get:function(){return b}},zIndex:{get:function(){return u}},height:{get:function(){return c}},
width:{get:function(){return m}},scale:{get:function(){return c}},context:{get:function(){return k}}});this.Show=function(){d.style.visibility="visible"};this.Hide=f;this.Clear=function(a){void 0===a?a=l:l=a;null!=a&&(k.fillStyle=a,k.fillRect(0,0,m,c))}};SeniorDads.ScreenHandler.show=function(a){a.style.visibility="visible"};SeniorDads.ScreenHandler.hide=function(a){a.style.visibility="hidden"};SeniorDads.ScreenHandler.Codef=function(a,b,c,e,g,f){void 0===g&&(g=0);void 0===f&&(f=0);void 0===c?a=new canvas(a,
b):(a=new canvas(a,b,c),a.canvas.style.position="absolute",a.canvas.style.left=g+"px",a.canvas.style.top=f+"px",void 0!==e&&(a.canvas.style.zIndex=e));a.canvas.style.visiblity="hidden";Object.defineProperties(a,{show:{value:function(){SeniorDads.ScreenHandler.show(this.canvas)}},hide:{value:function(){SeniorDads.ScreenHandler.hide(this.canvas)}},x:{set:function(a){this.canvas.style.left=a+"px"},get:function(){return this.canvas.style.left}},y:{set:function(a){this.canvas.style.top=a+"px"},get:function(){return this.canvas.style.top}},
height:{get:function(){return this.canvas.height}},width:{get:function(){return this.canvas.width}},context:{get:function(){return this.contex}}});return a}};