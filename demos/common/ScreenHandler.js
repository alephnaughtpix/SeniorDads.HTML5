SeniorDads.CreateNameSpace("SeniorDads.ScreenHandler");
SeniorDads.ScreenHandler=function(r,c,g,h){var b=r.appendChild(document.createElement("div")),s=1,k={},q,l;b.id=c;b.style.width=g+"px";b.style.height=h+"px";b.style.position="relative";this.add=function(t,f,m){k[c]=new SeniorDads.ScreenHandler.Screen(b,t,g,h,f,s++,m);return k[c]};this.WaitVbl=function(b,f){l=setTimeout(function(){f()},20*b)};this.FlushWaitVbl=function(){clearTimeout(l)};SeniorDads.ScreenHandler.Screen=function(b,f,m,c,n,g,d){function h(){null!=d&&(q=d.imageData(),e.drawImage(q,0,
0),p=!0)}function k(){a.style.visibility="hidden"}void 0===d&&(d=null);var p=!1,l,a=b.appendChild(document.createElement("canvas"));a.id=f;a.width=m*n;a.height=c*n;a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.zIndex=g;var e=a.getContext("2d");e.setTransform(1,0,0,1,0,0);e.scale(n,n);e.imageSmoothingEnabled=!1;k();null!=d?d.loaded()?h():d.loadedCallback=h:p=!0;this.loaded=function(){return p};this.canvas=function(){return a};this.context=function(){return e};this.name=function(){return f};
this.zIndex=function(){return g};this.width=function(){return m};this.height=function(){return c};this.scale=function(){return n};this.Show=function(){a.style.visibility="visible"};this.Hide=k;this.Clear=function(a){void 0===a?a=l:l=a;null!=a&&(e.fillStyle=a,e.fillRect(0,0,m,c))}}};