<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="NAME">SeniorDads.CreateNameSpace</span><span class="PUNC">(</span><span class="STRN">"SeniorDads.Demos"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  2</span> 
<span class='line'>  3</span> </span><span class="COMM">/**
<span class='line'>  4</span>  * &lt;h1>The 'Def Demo&lt;/h1>
<span class='line'>  5</span>  * &lt;h2>By The Senior Dads&lt;/h2>
<span class='line'>  6</span>  * &lt;p>&lt;em>var myDemo = new SeniorDads.Demos.DefDemo(placeholder, name, callbackOnEnd);&lt;/em>&lt;/p>
<span class='line'>  7</span>  * &lt;p>The Senior Dads "comeback" demo, released on 29 August 2015, at http://seniordads.atari.org/demos/def.html .&lt;/p>
<span class='line'>  8</span>  * &lt;p>This demo is based on the CODEF framework, and the 'Senior Dads Advanced Demo System'.&lt;/p>
<span class='line'>  9</span>  * @param {DOM object} placeholder HTML element from the web page to put the player in
<span class='line'> 10</span>  * @param {string} name Unique name for the demo element
<span class='line'> 11</span>  * @param {function} [callbackOnEnd] function to call when the demo ends
<span class='line'> 12</span>  * @property {int} width width of demo screen (640px)
<span class='line'> 13</span>  * @property {int} height height of demo screen (400px)
<span class='line'> 14</span>  * @property {string} blah Hidden message!
<span class='line'> 15</span>  * @constructor 
<span class='line'> 16</span>  * @class Senior Dads 'Def Demo
<span class='line'> 17</span>  * @example
<span class='line'> 18</span>  * 	&lt;html>&lt;head>&lt;script language="javascript">
<span class='line'> 19</span>  *  // Simple example, which just loads and starts the demo.
<span class='line'> 20</span>  *  var demo;
<span class='line'> 21</span>  * 
<span class='line'> 22</span>  *  function startDemo() {
<span class='line'> 23</span>  *  	demo = new SeniorDads.Demos.DefDemo(document.getElementById('demo'), 'democanvas', finished);
<span class='line'> 24</span>  *  	demo.LoadAndStart();
<span class='line'> 25</span>  *  }
<span class='line'> 26</span>  *  
<span class='line'> 27</span>  *  function finished() {
<span class='line'> 28</span>  *  	alert('Demo is finished!');
<span class='line'> 29</span>  *  }
<span class='line'> 30</span>  *  &lt;/script>&lt;/head>
<span class='line'> 31</span>  *  &lt;body onload="startDemo();">&lt;div id="demo">&lt;/div>&lt;/body>
<span class='line'> 32</span>  *  &lt;/html>
<span class='line'> 33</span>  */</span><span class="WHIT">
<span class='line'> 34</span> </span><span class="NAME">SeniorDads.Demos.DefDemo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">placeholder</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callbackOnEnd</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 35</span> </span><span class="WHIT">    </span><span class="NAME">this.blah</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"y333Ah!!! w3:R3 bAcK!!!!!1!!1! tH3 m3GaM1gHt33 *s3N10r dAdZ* rUl3c!!!!! IN CODEF!!!!!!"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 36</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">callbackOnEnd</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">callbackOnEnd</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Default value if no callback set</span><span class="WHIT">
<span class='line'> 37</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">DEBUG</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Set to true for stats and debugging info.</span><span class="WHIT">
<span class='line'> 38</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">defDemo</span><span class="PUNC">,</span><span class="WHIT">							</span><span class="COMM">// Demo variables</span><span class="WHIT">
<span class='line'> 39</span> </span><span class="WHIT">    	</span><span class="NAME">demoWindow</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 40</span> </span><span class="WHIT">    	</span><span class="NAME">loader</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 41</span> </span><span class="WHIT">    	</span><span class="NAME">presentsScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 42</span> </span><span class="WHIT">    	</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 43</span> </span><span class="WHIT">    	</span><span class="NAME">scrollScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 44</span> </span><span class="WHIT">    	</span><span class="NAME">scrollOffScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 45</span> </span><span class="WHIT">    	</span><span class="NAME">scrollBackScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 46</span> </span><span class="WHIT">    	</span><span class="NAME">scrollBackWobbler</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 47</span> </span><span class="WHIT">    	</span><span class="NAME">scrollLine</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 48</span> </span><span class="WHIT">    	</span><span class="NAME">music_Sashy</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 49</span> </span><span class="WHIT">    	</span><span class="NAME">music_rasero</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 50</span> </span><span class="WHIT">    	</span><span class="NAME">SDPresents</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 51</span> </span><span class="WHIT">    	</span><span class="NAME">SDFont</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'> 52</span> </span><span class="WHIT">    	</span><span class="NAME">SDLogo</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'> 53</span> </span><span class="WHIT">    	</span><span class="NAME">SDLogoScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 54</span> </span><span class="WHIT">    	</span><span class="NAME">SDLogoWobbler</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 55</span> </span><span class="WHIT">    	</span><span class="NAME">SDDistyDad</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 56</span> </span><span class="WHIT">    	</span><span class="NAME">SDDistyDadOffScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 57</span> </span><span class="WHIT">    	</span><span class="NAME">SDDistyDadFX</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 58</span> </span><span class="WHIT">    	</span><span class="NAME">scrollyWibbles</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 59</span> </span><span class="WHIT">    	</span><span class="NAME">scrollFx</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 60</span> </span><span class="WHIT">    	</span><span class="NAME">diskbob</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 61</span> </span><span class="WHIT">    	</span><span class="NAME">diskbobScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 62</span> </span><span class="WHIT">    	</span><span class="NAME">backGradientTopScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 63</span> </span><span class="WHIT">    	</span><span class="NAME">backGradientBottomScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 64</span> </span><span class="WHIT">    	</span><span class="NAME">SDStarfield</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 65</span> </span><span class="WHIT">    	</span><span class="NAME">colourBar</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 66</span> </span><span class="WHIT">    	</span><span class="NAME">titleDef</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 67</span> </span><span class="WHIT">    	</span><span class="NAME">titleDemo</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 68</span> </span><span class="WHIT">    	</span><span class="NAME">titleDefScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 69</span> </span><span class="WHIT">    	</span><span class="NAME">titleDemoScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 70</span> </span><span class="WHIT">    	</span><span class="NAME">rasterBar1Screen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 71</span> </span><span class="WHIT">    	</span><span class="NAME">rasterBar2Screen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 72</span> </span><span class="WHIT">    	</span><span class="NAME">rasterBar3Screen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 73</span> </span><span class="WHIT">    	</span><span class="NAME">rasterWobbler1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 74</span> </span><span class="WHIT">    	</span><span class="NAME">rasterWobbler2</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 75</span> </span><span class="WHIT">    	</span><span class="NAME">rasterWobbler3</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 76</span> </span><span class="WHIT">    	</span><span class="NAME">backDropImages</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 77</span> </span><span class="WHIT">    	</span><span class="NAME">backDropScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 78</span> </span><span class="WHIT">    	</span><span class="NAME">backDropWobbler</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 79</span> </span><span class="WHIT">    	</span><span class="NAME">atariBob</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 80</span> </span><span class="WHIT">    	</span><span class="NAME">phase4bob</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 81</span> </span><span class="WHIT">    	</span><span class="NAME">spriteWobblers</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 82</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeVert</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 83</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeObj</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 84</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeFace1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 85</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeFace2</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 86</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeFace3</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 87</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeFace4</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 88</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeFace5</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 89</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeFace6</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 90</span> </span><span class="WHIT">    	</span><span class="NAME">dadCube3D</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 91</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeMainWobble</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 92</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeHoldWobble</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 93</span> </span><span class="WHIT">    	</span><span class="NAME">dadCubeHoldRotWobble</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 94</span> </span><span class="WHIT">    	</span><span class="NAME">copperSource</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 95</span> </span><span class="WHIT">    	</span><span class="NAME">copperScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 96</span> </span><span class="WHIT">    	</span><span class="NAME">vectorDiskS</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 97</span> </span><span class="WHIT">    	</span><span class="NAME">vectorDiskD</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 98</span> </span><span class="WHIT">    	</span><span class="NAME">vectorDiskImgS</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 99</span> </span><span class="WHIT">    	</span><span class="NAME">vectorDiskImgD</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>100</span> </span><span class="WHIT">    	</span><span class="NAME">vectorDiskSWobble</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>101</span> </span><span class="WHIT">    	</span><span class="NAME">vectorDiskDWobble</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>102</span> </span><span class="WHIT">    	</span><span class="NAME">creditsScreenText</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>103</span> </span><span class="WHIT">    	</span><span class="NAME">creditsWobbler</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>104</span> </span><span class="WHIT">    	</span><span class="NAME">currentPart</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>105</span> </span><span class="WHIT">    	</span><span class="NAME">nextButton</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>106</span> </span><span class="WHIT">    	</span><span class="NAME">endSample</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>107</span> </span><span class="WHIT">    	</span><span class="NAME">endSampleLoader</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>108</span> </span><span class="WHIT">        </span><span class="NAME">sampleWave</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>109</span> </span><span class="WHIT">        </span><span class="NAME">samplePlayer</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>110</span> </span><span class="WHIT">        </span><span class="NAME">nextButton</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>111</span> </span><span class="WHIT">        </span><span class="NAME">fullscreenButton</span><span class="WHIT">
<span class='line'>112</span> </span><span class="WHIT">    	</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>113</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">currentPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Current position of main demo schedule</span><span class="WHIT">
<span class='line'>114</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">maxDiskfieldDepth</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">32</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Maximum z depth of 3D diskfield</span><span class="WHIT">
<span class='line'>115</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">noOfDisks</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// No of disks in 3D diskfield</span><span class="WHIT">
<span class='line'>116</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">noOfSprites</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// No of sprites for "Bobs" section</span><span class="WHIT">
<span class='line'>117</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'#000000'</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Common colour values</span><span class="WHIT">
<span class='line'>118</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rgbWhite</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'#ffffff'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>119</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">clear</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"rgba(0,0,0,0)"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>120</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scrollBackSegmentHeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">160</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Height of background for ChromaKey DistyScroll</span><span class="WHIT">
<span class='line'>121</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">zIndex</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">										</span><span class="COMM">// Initialise z-index for various demo layers</span><span class="WHIT">
<span class='line'>122</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="NAME">noOfDisks</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Initialise coordinates array for 3D diskfield</span><span class="WHIT">
<span class='line'>123</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">loadedCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Inialise default callback for when resources are loaded. (ie none)</span><span class="WHIT">
<span class='line'>124</span> </span><span class="WHIT">    </span><span class="NAME">defDemo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Demos.Demo</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">load</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">init</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">endDemo</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callbackOnEnd</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Create demo object</span><span class="WHIT">
<span class='line'>125</span> </span><span class="WHIT">    </span><span class="NAME">defDemo.add</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Demos.Demo.DemoPart</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mainDemo</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mainDemoAbort</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Add main screen</span><span class="WHIT">
<span class='line'>126</span> </span><span class="WHIT">    </span><span class="NAME">defDemo.add</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Demos.Demo.DemoPart</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">credits</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">creditsAbort</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Add credits screen</span><span class="WHIT">
<span class='line'>127</span> </span><span class="WHIT">    </span><span class="NAME">defDemo.add</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Demos.Demo.DemoPart</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">endCrash</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Add end crash.</span><span class="WHIT">
<span class='line'>128</span> </span><span class="WHIT">    </span><span class="WHIT">
<span class='line'>129</span> </span><span class="WHIT">    </span><span class="COMM">// Set up demo methods</span><span class="WHIT">
<span class='line'>130</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>131</span> 	 * Load the demo resources.
<span class='line'>132</span> 	 * @function
<span class='line'>133</span> 	 */</span><span class="WHIT">
<span class='line'>134</span> </span><span class="WHIT">    </span><span class="NAME">this.Load</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">defDemo.load</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>135</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>136</span> 	 * Load and start the demo.
<span class='line'>137</span> 	 * @function
<span class='line'>138</span> 	 */</span><span class="WHIT">
<span class='line'>139</span> </span><span class="WHIT">    </span><span class="NAME">this.LoadAndStart</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">defDemo.loadAndStart</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>140</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>141</span> 	 * Initialise and start the demo. (assuming the resources have been loaded.)
<span class='line'>142</span> 	 * @function
<span class='line'>143</span> 	 */</span><span class="WHIT">
<span class='line'>144</span> </span><span class="WHIT">    </span><span class="NAME">this.Start</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">defDemo.init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">defDemo.start</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>145</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>146</span> 	 * Go to the next screen on the demo.
<span class='line'>147</span> 	 * @function
<span class='line'>148</span> 	 */</span><span class="WHIT">
<span class='line'>149</span> </span><span class="WHIT">    </span><span class="NAME">this.Next</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">defDemo.next</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>150</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>151</span> 	 * Abort the demo
<span class='line'>152</span> 	 * @function
<span class='line'>153</span> 	 */</span><span class="WHIT">
<span class='line'>154</span> </span><span class="WHIT">    </span><span class="NAME">this.Abort</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">defDemo.abort</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>155</span> </span><span class="WHIT">	</span><span class="COMM">/**
<span class='line'>156</span> 	 * Set the demo to fullscreen.
<span class='line'>157</span> 	 * @function
<span class='line'>158</span> 	 */</span><span class="WHIT">
<span class='line'>159</span> </span><span class="WHIT">    </span><span class="NAME">this.fullscreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">demoWindow.fullscreen</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>160</span> </span><span class="WHIT">    </span><span class="COMM">// Remaining demo properties</span><span class="WHIT">
<span class='line'>161</span> </span><span class="WHIT">    </span><span class="NAME">this.width</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">640</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>162</span> </span><span class="WHIT">    </span><span class="NAME">this.height</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">400</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>163</span> 
<span class='line'>164</span> </span><span class="WHIT">    </span><span class="COMM">// DEMO LOADER ===========================================================================================</span><span class="WHIT">
<span class='line'>165</span> </span><span class="WHIT">    </span><span class="COMM">// </span><span class="WHIT">
<span class='line'>166</span> </span><span class="WHIT">    </span><span class="COMM">// Load all the resources we need for the demo before initialisation.</span><span class="WHIT">
<span class='line'>167</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">load</span><span class="PUNC">(</span><span class="NAME">altLoadedCallback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>168</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">altLoadedCallback</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">loadedCallback</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">altLoadedCallback</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// if we've been passed a callback, set that up</span><span class="WHIT">
<span class='line'>169</span> </span><span class="WHIT">        </span><span class="NAME">demoWindow</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler</span><span class="PUNC">(</span><span class="NAME">placeholder</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">640</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">400</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Set up main demo window</span><span class="WHIT">
<span class='line'>170</span> </span><span class="WHIT">        </span><span class="NAME">music_Sashy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Music</span><span class="PUNC">(</span><span class="STRN">"MOD"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/sashy_fanfare.bin"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Main demo music</span><span class="WHIT">
<span class='line'>171</span> </span><span class="WHIT">        </span><span class="NAME">music_rasero</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Music</span><span class="PUNC">(</span><span class="STRN">"YM"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/rasero_ym.bin"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Credits music</span><span class="WHIT">
<span class='line'>172</span> </span><span class="WHIT">        </span><span class="NAME">endSampleLoader</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Loader.Binary</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/colend.bin"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">endSample</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// End crash sample (A dump of the atari Falcon 030 low memory!)</span><span class="WHIT">
<span class='line'>173</span> </span><span class="WHIT">                </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">buffer</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>174</span> </span><span class="WHIT">        			</span><span class="NAME">endSample</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">buffer</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>175</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>176</span> </span><span class="WHIT">            </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>177</span> </span><span class="WHIT">        </span><span class="COMM">// Now start tracking the loading of resources. We've included all the images we're using </span><span class="WHIT">
<span class='line'>178</span> </span><span class="WHIT">        </span><span class="COMM">// with the CODEF routines, as this will ensure we've preloaded them beforehand.</span><span class="WHIT">
<span class='line'>179</span> </span><span class="WHIT">        </span><span class="NAME">loader</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Loader</span><span class="PUNC">(</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>180</span> </span><span class="WHIT">            </span><span class="NAME">music_Sashy</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>181</span> </span><span class="WHIT">            </span><span class="NAME">music_rasero</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>182</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/senior.png"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>183</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/common/resources/largeFont.png"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>184</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/dad_logo.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>185</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/logo.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>186</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/title_def.png"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>187</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/title_demo.png"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>188</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/disk2.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>189</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/disk3.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>190</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/disk4.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>191</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/netbest_back.jpg"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>192</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/sad_back3.jpg"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>193</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/sad_back.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>194</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/feat_back.jpg"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>195</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/ptrail_bkg.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>196</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/oldfart.jpg"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>197</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/dodgit.jpg"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>198</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/damevera.jpg"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>199</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/jpollock.jpg"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>200</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/colostomy.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>201</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/trump.png"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>202</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/atari.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>203</span> </span><span class="WHIT">            </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/phase4.gif"</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>204</span> </span><span class="WHIT">            </span><span class="NAME">endSampleLoader</span><span class="WHIT">
<span class='line'>205</span> </span><span class="WHIT">        </span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loadedCallback</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>206</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>207</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>208</span> </span><span class="WHIT">    </span><span class="COMM">// DEMO INITIALISATION ===================================================================================</span><span class="WHIT">
<span class='line'>209</span> </span><span class="WHIT">    </span><span class="COMM">// </span><span class="WHIT">
<span class='line'>210</span> </span><span class="WHIT">    </span><span class="COMM">// As you can see, we're doing a lot of precalculating here...</span><span class="WHIT">
<span class='line'>211</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>212</span> </span><span class="WHIT">    	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DEBUG</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">addstats</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// If we're in debug mode, we'll be showing the stats</span><span class="WHIT">
<span class='line'>213</span> </span><span class="WHIT">    	</span><span class="NAME">introScreen</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>214</span> </span><span class="WHIT">    	</span><span class="NAME">backdrop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>215</span> </span><span class="WHIT">    	</span><span class="NAME">coppers</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>216</span> </span><span class="WHIT">    	</span><span class="NAME">rasterBars</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>217</span> </span><span class="WHIT">    	</span><span class="NAME">backGradient</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>218</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise main canvas for the main screen.</span><span class="WHIT">
<span class='line'>219</span> </span><span class="WHIT">    	</span><span class="NAME">mainScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">400</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>220</span> </span><span class="WHIT">    	</span><span class="NAME">mainScreen.contex.imageSmoothingEnabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>221</span> </span><span class="WHIT">    	</span><span class="NAME">mainScreen.contex.mozImageSmoothingEnabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>222</span> </span><span class="WHIT">    	</span><span class="NAME">mainScreen.contex.oImageSmoothingEnabled</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>223</span> </span><span class="WHIT">    	</span><span class="NAME">starfield</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>224</span> </span><span class="WHIT">    	</span><span class="NAME">title</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>225</span> </span><span class="WHIT">    	</span><span class="NAME">logo</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>226</span> </span><span class="WHIT">    	</span><span class="NAME">sprites</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>227</span> </span><span class="WHIT">    	</span><span class="NAME">scroller</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>228</span> </span><span class="WHIT">    	</span><span class="NAME">diskField</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>229</span> </span><span class="WHIT">    	</span><span class="NAME">distyDad</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>230</span> </span><span class="WHIT">    	</span><span class="NAME">colourBars</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>231</span> </span><span class="WHIT">    	</span><span class="NAME">dadCube</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>232</span> </span><span class="WHIT">    	</span><span class="NAME">vectorDisks</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>233</span> </span><span class="WHIT">    	</span><span class="NAME">makeNextButton</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>234</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>235</span> </span><span class="WHIT">    	</span><span class="COMM">// "Senior Dads presents" screen.</span><span class="WHIT">
<span class='line'>236</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">introScreen</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>237</span> </span><span class="WHIT">            </span><span class="NAME">SDPresents</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/senior.png"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>238</span> </span><span class="WHIT">            </span><span class="NAME">presentsScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">400</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>239</span> </span><span class="WHIT">    		</span><span class="NAME">SDPresents.draw</span><span class="PUNC">(</span><span class="NAME">presentsScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>240</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>241</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>242</span> </span><span class="WHIT">    	</span><span class="COMM">// The "wobbly" backdrop screens</span><span class="WHIT">
<span class='line'>243</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>244</span> </span><span class="WHIT">    	</span><span class="COMM">// these are various screen which are slightly larger than the demo screen, which </span><span class="WHIT">
<span class='line'>245</span> </span><span class="WHIT">    	</span><span class="COMM">// copied onto the main screen with a "wobbly" offset.</span><span class="WHIT">
<span class='line'>246</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">backdrop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>247</span> </span><span class="WHIT">    		</span><span class="NAME">backDropImages</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Object</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Hash Array of backdrop images</span><span class="WHIT">
<span class='line'>248</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">getName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="REGX">/resources\/(\w+)\.\w+/i</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Regex to make unique hash array name for each image</span><span class="WHIT">
<span class='line'>249</span> </span><span class="WHIT">    		</span><span class="COMM">// Array of image URLS for the backdrops</span><span class="WHIT">
<span class='line'>250</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">imageList</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="STRN">"resources/netbest_back.jpg"</span><span class="PUNC">,</span><span class="STRN">"resources/sad_back3.jpg"</span><span class="PUNC">,</span><span class="STRN">"resources/sad_back.gif"</span><span class="PUNC">,</span><span class="STRN">"resources/feat_back.jpg"</span><span class="PUNC">,</span><span class="STRN">"resources/ptrail_bkg.gif"</span><span class="PUNC">,</span><span class="STRN">"resources/trump.png"</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>251</span> </span><span class="WHIT">    		</span><span class="COMM">// Go through each image and make canvas for them, and pop it into the backdrop array</span><span class="WHIT">
<span class='line'>252</span> </span><span class="WHIT">    		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">imageList.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>253</span> </span><span class="WHIT">        		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scratchPad</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">650</span><span class="PUNC">,</span><span class="NUMB">410</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Image canvases are slightly larger than 640x400 to make some "wobble" room.</span><span class="WHIT">
<span class='line'>254</span> </span><span class="WHIT">    			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tempImage</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">imageList</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Load image</span><span class="WHIT">
<span class='line'>255</span> </span><span class="WHIT">    			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tempImageName</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">imageList</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">replace</span><span class="PUNC">(</span><span class="NAME">getName</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"$1"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Make unique hash array name for image</span><span class="WHIT">
<span class='line'>256</span> </span><span class="WHIT">    			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">tempImage.img.width</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NUMB">650</span><span class="PUNC">)</span><span class="PUNC">||</span><span class="PUNC">(</span><span class="NAME">tempImage.img.width</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NUMB">410</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">	</span><span class="COMM">// If image is smaller than the canvas, tile it across canvas</span><span class="WHIT">
<span class='line'>257</span> </span><span class="WHIT">    				</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>258</span> </span><span class="WHIT">    				</span><span class="KEYW">while</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">410</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>259</span> </span><span class="WHIT">    					</span><span class="KEYW">while</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">650</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>260</span> </span><span class="WHIT">    						</span><span class="NAME">tempImage.draw</span><span class="PUNC">(</span><span class="NAME">scratchPad</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>261</span> </span><span class="WHIT">    						</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tempImage.img.width</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>262</span> </span><span class="WHIT">    					</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>263</span> </span><span class="WHIT">    					</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>264</span> </span><span class="WHIT">    					</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tempImage.img.height</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>265</span> </span><span class="WHIT">    				</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>266</span> </span><span class="WHIT">    			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>267</span> </span><span class="WHIT">    			</span><span class="NAME">backDropImages</span><span class="PUNC">[</span><span class="NAME">tempImageName</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">scratchPad</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Now put canvas into Hash Array of backdrop images</span><span class="WHIT">
<span class='line'>268</span> </span><span class="WHIT">    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>269</span> </span><span class="WHIT">    		</span><span class="NAME">backDropImages</span><span class="PUNC">[</span><span class="STRN">"presents"</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">presentsScreen</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Put "Senior Dads present" screen into array as well (for the end of the main screen)</span><span class="WHIT">
<span class='line'>270</span> </span><span class="WHIT">			</span><span class="NAME">backDropScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">400</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Create backdrop destination canvas for main screen.</span><span class="WHIT">
<span class='line'>271</span> </span><span class="WHIT">			</span><span class="NAME">backDropWobbler</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">									</span><span class="COMM">// Create wobbler for backdrop</span><span class="WHIT">
<span class='line'>272</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>273</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>274</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>275</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>276</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>277</span> </span><span class="WHIT">	 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>278</span> </span><span class="WHIT">	 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.10</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>279</span> </span><span class="WHIT">	 				</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>280</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>281</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>282</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise "burpy coppers".</span><span class="WHIT">
<span class='line'>283</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>284</span> </span><span class="WHIT">    	</span><span class="COMM">// The "coppers" are a single long gradient image, which is then copied multiple times onto the screen.</span><span class="WHIT">
<span class='line'>285</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">coppers</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>286</span> </span><span class="WHIT">        	</span><span class="NAME">copperSource</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">480</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// As the coppers are vertical, we only need to make the screen 1px wide.</span><span class="WHIT">
<span class='line'>287</span> </span><span class="WHIT">        	</span><span class="NAME">copperScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">400</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Initialise coppers canvas</span><span class="WHIT">
<span class='line'>288</span> </span><span class="WHIT">        	</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">copperSource</span><span class="PUNC">,</span><span class="WHIT">												</span><span class="COMM">// Make gradient for coppers and draw onto source canvas</span><span class="WHIT">
<span class='line'>289</span> </span><span class="WHIT">            		</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#ff8800'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>290</span> </span><span class="WHIT">            		  </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#44ff88'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>291</span> </span><span class="WHIT">            		  </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#4488ff'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>292</span> </span><span class="WHIT">            		  </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#ff88c8'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>293</span> </span><span class="WHIT">            		  </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>294</span> </span><span class="WHIT">            </span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>295</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>296</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>297</span> </span><span class="WHIT">    	</span><span class="COMM">// Initalise ChromaKey DistyScroll.</span><span class="WHIT">
<span class='line'>298</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>299</span> </span><span class="WHIT">    	</span><span class="COMM">// The scroller is given a y-dist, and a background is projected "through" it. Throughout the course</span><span class="WHIT">
<span class='line'>300</span> </span><span class="WHIT">    	</span><span class="COMM">// of the demo, we scroll through different backgrounds, and the background itself wobbles. So first</span><span class="WHIT">
<span class='line'>301</span> </span><span class="WHIT">    	</span><span class="COMM">// we have to initalise the scroller, it's y-dist, and the various backgrounds.</span><span class="WHIT">
<span class='line'>302</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">scroller</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>303</span> </span><span class="WHIT">            </span><span class="NAME">SDFont</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/common/resources/largeFont.png"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Get the source font image</span><span class="WHIT">
<span class='line'>304</span> </span><span class="WHIT">        	</span><span class="NAME">SDFont.initTile</span><span class="PUNC">(</span><span class="NUMB">32</span><span class="PUNC">,</span><span class="NUMB">16</span><span class="PUNC">,</span><span class="NUMB">32</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">												</span><span class="COMM">// Set up the font</span><span class="WHIT">
<span class='line'>305</span> </span><span class="WHIT">        	</span><span class="NAME">scrollScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">140</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">										</span><span class="COMM">// Set the main scroll screen (after dist)</span><span class="WHIT">
<span class='line'>306</span> </span><span class="WHIT">        	</span><span class="NAME">scrollOffScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">32</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Set the inital scroll screen (pre dist)</span><span class="WHIT">
<span class='line'>307</span> </span><span class="WHIT">        	</span><span class="NAME">scrollBackScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Set the background source screen</span><span class="WHIT">
<span class='line'>308</span> </span><span class="WHIT">        	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backgroundTempScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scrollBackSegmentHeight</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Set the temp screen for the various background segements</span><span class="WHIT">
<span class='line'>309</span> </span><span class="WHIT">        	</span><span class="NAME">scrollLine</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">scrolltext_horizontal</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Set up the scroller object</span><span class="WHIT">
<span class='line'>310</span> </span><span class="WHIT">            </span><span class="NAME">scrollyWibbles</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="WHIT">														</span><span class="COMM">// Set up the y-dist parameters</span><span class="WHIT">
<span class='line'>311</span> </span><span class="WHIT">                           </span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.03</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">offset</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">0.05</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>312</span> </span><span class="WHIT">                           </span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">35</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.01</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">offset</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">0.04</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>313</span> </span><span class="WHIT">                         </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>314</span> </span><span class="WHIT">            </span><span class="COMM">// Set up the scrolltext!</span><span class="WHIT">
<span class='line'>315</span> </span><span class="WHIT">        	</span><span class="NAME">scrollLine.scrtxt</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>316</span> </span><span class="WHIT">        		</span><span class="STRN">".   .  . . ...... YEEEEEAAAHH!!!! THE DADS ARE BACK!!!!^P2 "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>317</span> </span><span class="WHIT">        		</span><span class="STRN">"WITH A NEW CODEF-TRO CALLED... . .  .                         ^P7"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>318</span> </span><span class="WHIT">        		</span><span class="STRN">"RELEASED 29 AUG 2015!^P3!!!!! "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>319</span> </span><span class="WHIT">        		</span><span class="STRN">"Rejoice!!!!! ^P2 "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>320</span> </span><span class="WHIT">        		</span><span class="STRN">"If u think this is YouTube, your so wrong!!!! This detnro is happening now on your browsey-wowsey!!!!!!! "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>321</span> </span><span class="WHIT">        		</span><span class="STRN">"Ja!!!! Dis CODEC is CODED by our CODEEs in CODEF!!!!!       And Javascript, obviously.            "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>322</span> </span><span class="WHIT">        		</span><span class="STRN">"CREDITS!!!!!     Code(f!!) by OLD FART & DODDERING GIT!!!     Art by JACKSON POLLOCK!!!!    DJ MusixMix by DAME VERA LYN!!!!!   "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>323</span> </span><span class="WHIT">        		</span><span class="STRN">".   .  . . ...... Welcome to our first demo of the millenium!!!! We wanted to do an Atari prod for our 20th Anniversary!! Then we saw someone did an Atari demo on a webpage!!!! So we thot: 'Hay!!! Let's do that!!!!'!! "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>324</span> </span><span class="WHIT">        		</span><span class="STRN">"So we toiled for yonks to learn tha CODEF, and here are our first fruits of our labour!!!!! This CODEF/JS/HTML5 malarkey was a bit funy at first- like doing a fullscreen in Turbo Pascal!!!! In fact, you can't even do fullscreen by flipping to 60Hz like on the old Atarri!!!!! "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>325</span> </span><span class="WHIT">        		</span><span class="STRN">"If you havent seen our Atari demoes (Where you been!!!), get thee to our w3sitey at "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>326</span> </span><span class="WHIT">        		</span><span class="STRN">"seniordads.atari.org ^P3!!!!!!! "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>327</span> </span><span class="WHIT">        		</span><span class="STRN">"and you can run them in Atari emulators!!!        And soon- IN HTML5!!!!!!!!!^P2      "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>328</span> </span><span class="WHIT">        		</span><span class="STRN">"This is just a simple demo of wot we can do in 'def- nearly all the GFX is old stuff by Jackson Pollock for our website, and the DJ mix was done by Dame Vera Lynn at the Reservoir Gods Cwmvention in 1997!!!!    Our next newie will contain all new GFX, Zix, and FX!!!!!!         So watch out!!!!!!!     "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>329</span> </span><span class="WHIT">        		</span><span class="STRN">" THE SENIOR DADS!! If it's too old, you're loud!!!!!!!!!!          Go on, press space bar, you div!!!!!!       "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>330</span> </span><span class="WHIT">        		</span><span class="STRN">" "</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>331</span> </span><span class="WHIT">            </span><span class="NAME">scrollFx</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">FX</span><span class="PUNC">(</span><span class="NAME">scrollOffScreen</span><span class="PUNC">,</span><span class="NAME">scrollScreen</span><span class="PUNC">,</span><span class="NAME">scrollyWibbles</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Set up the y-dist</span><span class="WHIT">
<span class='line'>332</span> </span><span class="WHIT">        	</span><span class="NAME">scrollLine.init</span><span class="PUNC">(</span><span class="NAME">scrollOffScreen</span><span class="PUNC">,</span><span class="NAME">SDFont</span><span class="PUNC">,</span><span class="NUMB">5</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// initalise the scroller</span><span class="WHIT">
<span class='line'>333</span> </span><span class="WHIT">        	</span><span class="COMM">// Set up first background segment (gradient)</span><span class="WHIT">
<span class='line'>334</span> </span><span class="WHIT">        	</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backgroundTempScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>335</span> </span><span class="WHIT">            		</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#00FFFF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF0000'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#00FF00'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF00FF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FFFF00'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#0000FF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>336</span> </span><span class="WHIT">            	</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>337</span> </span><span class="WHIT">        	</span><span class="NAME">backgroundTempScreen.draw</span><span class="PUNC">(</span><span class="NAME">scrollBackScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>338</span> </span><span class="WHIT">        	</span><span class="COMM">// Set up second background segment (gradient)</span><span class="WHIT">
<span class='line'>339</span> </span><span class="WHIT">        	</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backgroundTempScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>340</span> </span><span class="WHIT">            		</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF4422'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#4422FF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF4422'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#4422FF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF4422'</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NAME">rgbBlack</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>341</span> </span><span class="WHIT">            	</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>342</span> </span><span class="WHIT">        	</span><span class="NAME">backgroundTempScreen.draw</span><span class="PUNC">(</span><span class="NAME">scrollBackScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>343</span> </span><span class="WHIT">        	</span><span class="COMM">// Set up third segment background segment ("Press Trail" backdrop)</span><span class="WHIT">
<span class='line'>344</span> </span><span class="WHIT">        	</span><span class="NAME">backDropImages</span><span class="PUNC">[</span><span class="STRN">"ptrail_bkg"</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">drawPart</span><span class="PUNC">(</span><span class="NAME">scrollBackScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">50</span><span class="PUNC">,</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>345</span> </span><span class="WHIT">        	</span><span class="COMM">// Set up fourth background segment (gradient)</span><span class="WHIT">
<span class='line'>346</span> </span><span class="WHIT">        	</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backgroundTempScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>347</span> </span><span class="WHIT">            		</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FFFF66'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#00FF00'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FFFF66'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF0000'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FFFF66'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#0088FF'</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="STRN">'#FFFF66'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>348</span> </span><span class="WHIT">            	</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>349</span> </span><span class="WHIT">        	</span><span class="NAME">backgroundTempScreen.draw</span><span class="PUNC">(</span><span class="NAME">scrollBackScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">*</span><span class="NUMB">3</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>350</span> </span><span class="WHIT">        	</span><span class="COMM">// Set up fifth background segment (gradient)</span><span class="WHIT">
<span class='line'>351</span> </span><span class="WHIT">        	</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backgroundTempScreen</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>352</span> </span><span class="WHIT">            		</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbWhite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#44FF88'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbWhite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF4488'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbWhite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#4488FF'</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="NAME">rgbWhite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>353</span> </span><span class="WHIT">            	</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>354</span> </span><span class="WHIT">        	</span><span class="NAME">backgroundTempScreen.draw</span><span class="PUNC">(</span><span class="NAME">scrollBackScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">*</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>355</span> </span><span class="WHIT">        	</span><span class="COMM">// Set up sixth segment background segment ("Trump" backdrop)</span><span class="WHIT">
<span class='line'>356</span> </span><span class="WHIT">        	</span><span class="NAME">backDropImages</span><span class="PUNC">[</span><span class="STRN">"trump"</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">drawPart</span><span class="PUNC">(</span><span class="NAME">scrollBackScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">*</span><span class="NUMB">5</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">50</span><span class="PUNC">,</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>357</span> </span><span class="WHIT">        	</span><span class="COMM">// Set up seventh segment background segment ("Senior Dads presents" backdrop)</span><span class="WHIT">
<span class='line'>358</span> </span><span class="WHIT">        	</span><span class="NAME">backDropImages</span><span class="PUNC">[</span><span class="STRN">"presents"</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">drawPart</span><span class="PUNC">(</span><span class="NAME">scrollBackScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">*</span><span class="NUMB">6</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">50</span><span class="PUNC">,</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>359</span> </span><span class="WHIT">        	</span><span class="COMM">// Set up wobbler for backdrop</span><span class="WHIT">
<span class='line'>360</span> </span><span class="WHIT">        	</span><span class="NAME">scrollBackWobbler</span><span class="WHIT">  </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>361</span> </span><span class="WHIT"> 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>362</span> </span><span class="WHIT"> 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>363</span> </span><span class="WHIT"> 				</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>364</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>365</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>366</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise Beer rasters</span><span class="WHIT">
<span class='line'>367</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>368</span> </span><span class="WHIT">    	</span><span class="COMM">// We've drawn them onto two canvases, so we have the option to switch top, bottom or both halves .</span><span class="WHIT">
<span class='line'>369</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">backGradient</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>370</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">gradientColour</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'#FFCC55'</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Beer colour!</span><span class="WHIT">
<span class='line'>371</span> </span><span class="WHIT">        	</span><span class="NAME">backGradientTopScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">200</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Set up canvas for top half 	</span><span class="WHIT">
<span class='line'>372</span> </span><span class="WHIT">        	</span><span class="NAME">backGradientBottomScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">200</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Set up canvas for bottom half</span><span class="WHIT">
<span class='line'>373</span> </span><span class="WHIT">    		</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backGradientTopScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">gradientColour</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">clear</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Pre-draw gradient for top half</span><span class="WHIT">
<span class='line'>374</span> </span><span class="WHIT">    		</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backGradientBottomScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">clear</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">gradientColour</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Pre-draw gradient for bottom half</span><span class="WHIT">
<span class='line'>375</span> </span><span class="WHIT">    		</span><span class="NAME">backGradientBottomScreen.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">;</span><span class="WHIT">													</span><span class="COMM">// Position bottom half</span><span class="WHIT">
<span class='line'>376</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>377</span> 
<span class='line'>378</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise 2D starfield</span><span class="WHIT">
<span class='line'>379</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">starfield</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>380</span> </span><span class="WHIT">    		</span><span class="COMM">// Set up a 3 level startfield with 66 stars on each level</span><span class="WHIT">
<span class='line'>381</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">noOfStars</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">66</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>382</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">SDStarfieldParams</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>383</span> </span><span class="WHIT">    		        </span><span class="PUNC">{</span><span class="NAME">nb</span><span class="PUNC">:</span><span class="NAME">noOfStars</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">speedy</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">speedx</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">3.9</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">color</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">rgbWhite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>384</span> </span><span class="WHIT">    		        </span><span class="PUNC">{</span><span class="NAME">nb</span><span class="PUNC">:</span><span class="NAME">noOfStars</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">speedy</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">speedx</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2.8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">color</span><span class="PUNC">:</span><span class="STRN">"#888888"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>385</span> </span><span class="WHIT">    		        </span><span class="PUNC">{</span><span class="NAME">nb</span><span class="PUNC">:</span><span class="NAME">noOfStars</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">speedy</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">speedx</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1.7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">color</span><span class="PUNC">:</span><span class="STRN">"#444444"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>386</span> </span><span class="WHIT">    		</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>387</span> </span><span class="WHIT">    		</span><span class="NAME">SDStarfield</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">starfield2D_dot</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="NAME">SDStarfieldParams</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>388</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>389</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>390</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise "'Def Demo" neon titles</span><span class="WHIT">
<span class='line'>391</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>392</span> </span><span class="WHIT">    	</span><span class="COMM">// We've drawn them onto seperate canvases, so we can switch on either or both,</span><span class="WHIT">
<span class='line'>393</span> </span><span class="WHIT">    	</span><span class="COMM">// in a "neon sign" stylee, such as in the "'Def.. Demo.." opening sequence.</span><span class="WHIT">
<span class='line'>394</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">title</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>395</span> </span><span class="WHIT">    		</span><span class="NAME">titleDef</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/title_def.png"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Load images</span><span class="WHIT">
<span class='line'>396</span> </span><span class="WHIT">    		</span><span class="NAME">titleDemo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/title_demo.png"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>397</span> </span><span class="WHIT">    		</span><span class="NAME">titleDefScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="WHIT">									</span><span class="COMM">// Set up "'Def" canvas</span><span class="WHIT">
<span class='line'>398</span> </span><span class="WHIT">    				</span><span class="NAME">titleDef.img.width</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>399</span> </span><span class="WHIT">    				</span><span class="NAME">titleDef.img.height</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>400</span> </span><span class="WHIT">    				</span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>401</span> </span><span class="WHIT">    				</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">																			</span><span class="COMM">// Position on center left</span><span class="WHIT">
<span class='line'>402</span> </span><span class="WHIT">    				</span><span class="NUMB">200</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">titleDef.img.height</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>403</span> </span><span class="WHIT">    				</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>404</span> </span><span class="WHIT">    		</span><span class="NAME">titleDefScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>405</span> </span><span class="WHIT">    		</span><span class="NAME">titleDef.draw</span><span class="PUNC">(</span><span class="NAME">titleDefScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">													</span><span class="COMM">// Draw image onto canvas</span><span class="WHIT">
<span class='line'>406</span> </span><span class="WHIT">    		</span><span class="NAME">titleDemoScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="WHIT">									</span><span class="COMM">// Set up "Demo" canvas</span><span class="WHIT">
<span class='line'>407</span> </span><span class="WHIT">    				</span><span class="NAME">titleDemo.img.width</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>408</span> </span><span class="WHIT">    				</span><span class="NAME">titleDemo.img.height</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>409</span> </span><span class="WHIT">    				</span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>410</span> </span><span class="WHIT">    				</span><span class="NUMB">640</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">titleDemo.img.width</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">												</span><span class="COMM">// Position on center right</span><span class="WHIT">
<span class='line'>411</span> </span><span class="WHIT">    				</span><span class="NUMB">200</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">titleDemo.img.height</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>412</span> </span><span class="WHIT">    				</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>413</span> </span><span class="WHIT">    		</span><span class="NAME">titleDemoScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>414</span> </span><span class="WHIT">    		</span><span class="NAME">titleDemo.draw</span><span class="PUNC">(</span><span class="NAME">titleDemoScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">												</span><span class="COMM">// Draw image onto canvas</span><span class="WHIT">
<span class='line'>415</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>416</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>417</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise Disty Dad</span><span class="WHIT">
<span class='line'>418</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>419</span> </span><span class="WHIT">    	</span><span class="COMM">// Quite simple here, just set up an SD logo with a x-dist!</span><span class="WHIT">
<span class='line'>420</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">distyDad</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>421</span> </span><span class="WHIT">    		</span><span class="NAME">SDDistyDad</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/dad_logo.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Get image</span><span class="WHIT">
<span class='line'>422</span> </span><span class="WHIT">    		</span><span class="NAME">SDDistyDadOffScreen</span><span class="WHIT">  </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NAME">SDDistyDad.img.width</span><span class="PUNC">,</span><span class="NAME">SDDistyDad.img.height</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Set up pre-dist canvas</span><span class="WHIT">
<span class='line'>423</span> </span><span class="WHIT">    		</span><span class="NAME">SDDistyDad.draw</span><span class="PUNC">(</span><span class="NAME">SDDistyDadOffScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">											</span><span class="COMM">// Draw Dad onto it</span><span class="WHIT">
<span class='line'>424</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">FXparam</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="WHIT">																		</span><span class="COMM">// Set up x-dist parameters</span><span class="WHIT">
<span class='line'>425</span> </span><span class="WHIT">    		   	        </span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.03</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">offset</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">0.05</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>426</span> </span><span class="WHIT">    		   	        </span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.01</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">offset</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="NUMB">0.08</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>427</span> </span><span class="WHIT">    		   		</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>428</span> </span><span class="WHIT">    		</span><span class="NAME">SDDistyDadFX</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">FX</span><span class="PUNC">(</span><span class="NAME">SDDistyDadOffScreen</span><span class="PUNC">,</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="NAME">FXparam</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Set up x-dist</span><span class="WHIT">
<span class='line'>429</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>430</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>431</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise top and bottom colour bars</span><span class="WHIT">
<span class='line'>432</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>433</span> </span><span class="WHIT">    	</span><span class="COMM">// This is just a simple long canvas gradient which is copied and moved onto the main screen twice.</span><span class="WHIT">
<span class='line'>434</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">colourBars</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>435</span> </span><span class="WHIT">    		</span><span class="NAME">colourBar</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">*</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Make it twice as long as the screen width</span><span class="WHIT">
<span class='line'>436</span> </span><span class="WHIT">        	</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">colourBar</span><span class="PUNC">,</span><span class="WHIT">				</span><span class="COMM">// Draw gradient twice onto it.</span><span class="WHIT">
<span class='line'>437</span> </span><span class="WHIT">            		</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#00FFFF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF0000'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#00FF00'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF00FF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FFFF00'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#0000FF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>438</span> </span><span class="WHIT">            		  </span><span class="STRN">'#00FFFF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF0000'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#00FF00'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FF00FF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#FFFF00'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'#0000FF'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>439</span> </span><span class="WHIT">            	</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawV</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>440</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>441</span> 
<span class='line'>442</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise raster bars</span><span class="WHIT">
<span class='line'>443</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>444</span> </span><span class="WHIT">    	</span><span class="COMM">// These are 3 canvases with the raster bars pre-drawn onto them, which are then moved </span><span class="WHIT">
<span class='line'>445</span> </span><span class="WHIT">    	</span><span class="COMM">// around in a raster bar stylee!</span><span class="WHIT">
<span class='line'>446</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">rasterBars</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>447</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">grad1Col</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'#ff8844'</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Raster base colours (Rasters gradient is black->colour->white->colour->black)</span><span class="WHIT">
<span class='line'>448</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">grad2Col</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'#44ff88'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>449</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">grad3Col</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'#8844ff'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>450</span> </span><span class="WHIT">    		</span><span class="NAME">rasterBar1Screen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">60</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Set up raster canvases</span><span class="WHIT">
<span class='line'>451</span> </span><span class="WHIT">    		</span><span class="NAME">rasterBar2Screen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">60</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>452</span> </span><span class="WHIT">    		</span><span class="NAME">rasterBar3Screen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NUMB">60</span><span class="PUNC">,</span><span class="NAME">name</span><span class="PUNC">,</span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>453</span> </span><span class="WHIT">    		</span><span class="WHIT">
<span class='line'>454</span> </span><span class="WHIT">    		</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">rasterBar1Screen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">grad1Col</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbWhite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">grad1Col</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Pre-draw rasters onto canvases</span><span class="WHIT">
<span class='line'>455</span> </span><span class="WHIT">    		</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">rasterBar2Screen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">grad2Col</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbWhite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">grad2Col</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>456</span> </span><span class="WHIT">    		</span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">rasterBar3Screen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">grad3Col</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbWhite</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">grad3Col</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rgbBlack</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">drawH</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>457</span> 
<span class='line'>458</span> </span><span class="WHIT">    		</span><span class="NAME">rasterBar1Screen.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar2Screen.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar2Screen.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Set rasters to left of screen (We'll be setting the y coords later in the main demo).</span><span class="WHIT">
<span class='line'>459</span> </span><span class="WHIT">    		</span><span class="WHIT">
<span class='line'>460</span> </span><span class="WHIT">    		</span><span class="NAME">rasterWobbler1</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">								</span><span class="COMM">// Set up y- wobbles for rasters</span><span class="WHIT">
<span class='line'>461</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>462</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>463</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>464</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>465</span> </span><span class="WHIT">    		</span><span class="NAME">rasterWobbler2</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>466</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>467</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.25</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>468</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.35</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>469</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>470</span> </span><span class="WHIT">    		</span><span class="NAME">rasterWobbler3</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>471</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>472</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>473</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>474</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>475</span> 
<span class='line'>476</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>477</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>478</span> </span><span class="WHIT">    	</span><span class="COMM">// Initiliase bouncy, wobbly "s3N10r dAdZ!!1!" logo</span><span class="WHIT">
<span class='line'>479</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">logo</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>480</span> </span><span class="WHIT">    		</span><span class="NAME">SDLogo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/logo.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Get logo</span><span class="WHIT">
<span class='line'>481</span> </span><span class="WHIT">    		</span><span class="NAME">SDLogoScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SeniorDads.ScreenHandler.Codef</span><span class="PUNC">(</span><span class="WHIT">						</span><span class="COMM">// Set up canvas for logo</span><span class="WHIT">
<span class='line'>482</span> </span><span class="WHIT">    				</span><span class="NAME">SDLogo.img.width</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>483</span> </span><span class="WHIT">    				</span><span class="NAME">SDLogo.img.height</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>484</span> </span><span class="WHIT">    				</span><span class="NAME">name</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">zIndex</span><span class="PUNC">++</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>485</span> </span><span class="WHIT">    				</span><span class="NUMB">320</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">SDLogo.img.width</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">								</span><span class="COMM">// Set center near-top</span><span class="WHIT">
<span class='line'>486</span> </span><span class="WHIT">    				</span><span class="NUMB">20</span><span class="WHIT">
<span class='line'>487</span> </span><span class="WHIT">    				</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>488</span> </span><span class="WHIT">    		</span><span class="NAME">SDLogoScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>489</span> </span><span class="WHIT">    		</span><span class="NAME">SDLogo.draw</span><span class="PUNC">(</span><span class="NAME">SDLogoScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">										</span><span class="COMM">// Draw logo on canvas</span><span class="WHIT">
<span class='line'>490</span> </span><span class="WHIT">    		</span><span class="NAME">SDLogoWobbler</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">								</span><span class="COMM">// Set up wobbler for logo</span><span class="WHIT">
<span class='line'>491</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>492</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>493</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>494</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>495</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>496</span> </span><span class="WHIT">	 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>497</span> </span><span class="WHIT">	 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.10</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>498</span> </span><span class="WHIT">	 				</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>499</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>500</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>501</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise 3D diskfield</span><span class="WHIT">
<span class='line'>502</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">diskField</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">    		</span><span class="WHIT">
<span class='line'>503</span> </span><span class="WHIT">    		</span><span class="NAME">diskbob</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/disk3.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Get disk and set up canvas</span><span class="WHIT">
<span class='line'>504</span> </span><span class="WHIT">    		</span><span class="NAME">diskbobScreen</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">34</span><span class="PUNC">,</span><span class="NUMB">37</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>505</span> </span><span class="WHIT">    		</span><span class="NAME">diskbob.draw</span><span class="PUNC">(</span><span class="NAME">diskbobScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>506</span> </span><span class="WHIT">	      	</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">				</span><span class="COMM">// Set up random 3D coordinates for the diskfield</span><span class="WHIT">
<span class='line'>507</span> </span><span class="WHIT">	      		</span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>508</span> </span><span class="WHIT">		          	</span><span class="NAME">x</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">random</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NUMB">25</span><span class="PUNC">,</span><span class="NUMB">25</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>509</span> </span><span class="WHIT">		          	</span><span class="NAME">y</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">random</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NUMB">25</span><span class="PUNC">,</span><span class="NUMB">25</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>510</span> </span><span class="WHIT">		          	</span><span class="NAME">z</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">random</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">maxDiskfieldDepth</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>511</span> </span><span class="WHIT">	         	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>512</span> </span><span class="WHIT">	      	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>513</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>514</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>515</span> </span><span class="WHIT">    	</span><span class="COMM">// Initialise "sprites" section.</span><span class="WHIT">
<span class='line'>516</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>517</span> </span><span class="WHIT">    	</span><span class="COMM">// You might notice here we're using the Senior Dads Wobbler to generate </span><span class="WHIT">
<span class='line'>518</span> </span><span class="WHIT">    	</span><span class="COMM">// sprite movement paths AND wobbles!</span><span class="WHIT">
<span class='line'>519</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">sprites</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>520</span> </span><span class="WHIT">    		</span><span class="NAME">spriteWobblers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Object</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">											</span><span class="COMM">// Set up arrays for the path/wobbles for each sprite</span><span class="WHIT">
<span class='line'>521</span> </span><span class="WHIT">    		</span><span class="NAME">phase4bob</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/phase4.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Get the two sprites we've using this demo.</span><span class="WHIT">
<span class='line'>522</span> </span><span class="WHIT">    		</span><span class="NAME">atariBob</span><span class="WHIT">  </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/atari.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>523</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">seperation</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.30</span><span class="PUNC">;</span><span class="WHIT">													</span><span class="COMM">// Distance between sprites</span><span class="WHIT">
<span class='line'>524</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">spritePosition</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">													</span><span class="COMM">// Position in the path/wobble</span><span class="WHIT">
<span class='line'>525</span> </span><span class="WHIT">    		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">noOfSprites</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">									</span><span class="COMM">// For each sprite, set up a path/wobble</span><span class="WHIT">
<span class='line'>526</span> </span><span class="WHIT">        		</span><span class="NAME">spriteWobblers</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>527</span> </span><span class="WHIT">        				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>528</span> </span><span class="WHIT">	     				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">spritePosition</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">240</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.08</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>529</span> </span><span class="WHIT">	    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">spritePosition</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>530</span> </span><span class="WHIT">        				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>531</span> </span><span class="WHIT">        				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>532</span> </span><span class="WHIT">	    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">spritePosition</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">120</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.06</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>533</span> </span><span class="WHIT">	    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">spritePosition</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>534</span> </span><span class="WHIT">        				</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>535</span> </span><span class="WHIT">        				</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>536</span> </span><span class="WHIT">        		</span><span class="NAME">spritePosition</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">seperation</span><span class="PUNC">;</span><span class="WHIT">										</span><span class="COMM">// Move along position in the path/wobble for next sprite.</span><span class="WHIT">
<span class='line'>537</span> </span><span class="WHIT">    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>538</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>539</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>540</span> </span><span class="WHIT">    	</span><span class="COMM">// Initliase Tri-Di Dad-Mapping</span><span class="WHIT">
<span class='line'>541</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>542</span> </span><span class="WHIT">    	</span><span class="COMM">// This features all the members of the Senior Dads on each cube face!</span><span class="WHIT">
<span class='line'>543</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">dadCube</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>544</span> </span><span class="WHIT">    		</span><span class="NAME">dadCubeVert</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Object</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Set up the cube vertices</span><span class="WHIT">
<span class='line'>545</span> </span><span class="WHIT">    		</span><span class="NAME">dadCubeVert</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT">							</span><span class="COMM">// There are 8 points in the cube, so there 8 coordinates</span><span class="WHIT">
<span class='line'>546</span> </span><span class="WHIT">    		             </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>547</span> </span><span class="WHIT">    		             </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>548</span> </span><span class="WHIT">    		             </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>549</span> </span><span class="WHIT">    		             </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>550</span> </span><span class="WHIT">    		             </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>551</span> </span><span class="WHIT">    		             </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>552</span> </span><span class="WHIT">    		             </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>553</span> </span><span class="WHIT">    		             </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">100</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>554</span> </span><span class="WHIT">    		            	</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>555</span> </span><span class="WHIT">    		</span><span class="COMM">// Now the images used on each face										   ## SD crew members #</span><span class="WHIT">
<span class='line'>556</span> </span><span class="WHIT">        	</span><span class="NAME">dadCubeFace1</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/oldfart.jpg"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// # Old Fart</span><span class="WHIT">
<span class='line'>557</span> </span><span class="WHIT">        	</span><span class="NAME">dadCubeFace2</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/dodgit.jpg"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// # Doddering git</span><span class="WHIT">
<span class='line'>558</span> </span><span class="WHIT">        	</span><span class="NAME">dadCubeFace3</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/damevera.jpg"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// # Dame Vera Lynn</span><span class="WHIT">
<span class='line'>559</span> </span><span class="WHIT">        	</span><span class="NAME">dadCubeFace4</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/jpollock.jpg"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// # Jackson Pollock</span><span class="WHIT">
<span class='line'>560</span> </span><span class="WHIT">        	</span><span class="NAME">dadCubeFace5</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/colostomy.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// # Colostomy Bag ####</span><span class="WHIT">
<span class='line'>561</span> </span><span class="WHIT">        	</span><span class="NAME">dadCubeFace6</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/sad_back.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Generic SD background</span><span class="WHIT">
<span class='line'>562</span> </span><span class="WHIT">    		</span><span class="NAME">dadCubeObj</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Object</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Set up the faces of the cube</span><span class="WHIT">
<span class='line'>563</span> </span><span class="WHIT">    		</span><span class="NAME">dadCubeObj</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>564</span> </span><span class="WHIT">    		         </span><span class="PUNC">{</span><span class="NAME">p1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p2</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p3</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p4</span><span class="PUNC">:</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u2</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v2</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u3</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v3</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u4</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v4</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">:</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">MeshBasicMaterial</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">map</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Texture</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">dadCubeFace1.img</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>565</span> </span><span class="WHIT">    		         </span><span class="PUNC">{</span><span class="NAME">p1</span><span class="PUNC">:</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p2</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p3</span><span class="PUNC">:</span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p4</span><span class="PUNC">:</span><span class="NUMB">4</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u2</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v2</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u3</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v3</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u4</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v4</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">:</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">MeshBasicMaterial</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">map</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Texture</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">dadCubeFace2.img</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>566</span> </span><span class="WHIT">    		         </span><span class="PUNC">{</span><span class="NAME">p1</span><span class="PUNC">:</span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p2</span><span class="PUNC">:</span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p3</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p4</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u2</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v2</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u3</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v3</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u4</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v4</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">:</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">MeshBasicMaterial</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">map</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Texture</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">dadCubeFace3.img</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>567</span> </span><span class="WHIT">    		         </span><span class="PUNC">{</span><span class="NAME">p1</span><span class="PUNC">:</span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p2</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p3</span><span class="PUNC">:</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p4</span><span class="PUNC">:</span><span class="NUMB">4</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u2</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v2</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u3</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v3</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u4</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v4</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">:</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">MeshBasicMaterial</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">map</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Texture</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">dadCubeFace4.img</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>568</span> </span><span class="WHIT">    		         </span><span class="PUNC">{</span><span class="NAME">p1</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p2</span><span class="PUNC">:</span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p3</span><span class="PUNC">:</span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p4</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u2</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v2</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u3</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v3</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u4</span><span class="PUNC">:</span><span class="NUMB">0.52</span><span class="PUNC">,</span><span class="NAME">v4</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">:</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">MeshBasicMaterial</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">map</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Texture</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">dadCubeFace5.img</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="WHIT">
<span class='line'>569</span> </span><span class="WHIT">    		         </span><span class="PUNC">{</span><span class="NAME">p1</span><span class="PUNC">:</span><span class="NUMB">4</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p2</span><span class="PUNC">:</span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p3</span><span class="PUNC">:</span><span class="NUMB">6</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">p4</span><span class="PUNC">:</span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v1</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u2</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">v2</span><span class="PUNC">:</span><span class="NUMB">0.80</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u3</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">v3</span><span class="PUNC">:</span><span class="NUMB">0.80</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">u4</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NAME">v4</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">params</span><span class="PUNC">:</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">MeshBasicMaterial</span><span class="PUNC">(</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">map</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Texture</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">dadCubeFace6.img</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>570</span> </span><span class="WHIT">    		 	</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>571</span> </span><span class="WHIT">    		</span><span class="NAME">dadCube3D</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">codef3D</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">900</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">40</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1600</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Set up code object</span><span class="WHIT">
<span class='line'>572</span> </span><span class="WHIT">    		</span><span class="NAME">dadCube3D.faces4</span><span class="PUNC">(</span><span class="NAME">dadCubeVert</span><span class="PUNC">,</span><span class="NAME">dadCubeObj</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>573</span> </span><span class="WHIT">    		</span><span class="COMM">// Main cube path/wobble.</span><span class="WHIT">
<span class='line'>574</span> </span><span class="WHIT">    		</span><span class="NAME">dadCubeMainWobble</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>575</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>576</span> </span><span class="WHIT">     				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">240</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.08</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>577</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>578</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>579</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>580</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">120</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.06</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>581</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>582</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>583</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>584</span> </span><span class="WHIT">	 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.07</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>585</span> </span><span class="WHIT"> 				 	</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>586</span> </span><span class="WHIT">    				</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>587</span> </span><span class="WHIT">    		</span><span class="COMM">// Wobble when the cube stops.</span><span class="WHIT">
<span class='line'>588</span> </span><span class="WHIT">    		</span><span class="NAME">dadCubeHoldWobble</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>589</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>590</span> </span><span class="WHIT">     				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>591</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>592</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>593</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>594</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>595</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>596</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>597</span> </span><span class="WHIT">    		</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>598</span> </span><span class="WHIT">    		</span><span class="COMM">// Woble when it's just about to tumble away.</span><span class="WHIT">
<span class='line'>599</span> </span><span class="WHIT">    		</span><span class="NAME">dadCubeHoldRotWobble</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>600</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>601</span> </span><span class="WHIT">     				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>602</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>603</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>604</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>605</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>606</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>607</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>608</span> </span><span class="WHIT">    				</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>609</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>610</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.35</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>611</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.45</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>612</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>613</span> </span><span class="WHIT">    		</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>614</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>615</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>616</span> </span><span class="WHIT">    	</span><span class="COMM">// Intialise 3D vectordisks</span><span class="WHIT">
<span class='line'>617</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>618</span> </span><span class="WHIT">    	</span><span class="COMM">// There are two objects to set up here- an S shape and a D shape, each with different color disks</span><span class="WHIT">
<span class='line'>619</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">vectorDisks</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>620</span> </span><span class="WHIT">			</span><span class="COMM">/*
<span class='line'>621</span> 			 * First set up the S:
<span class='line'>622</span> 			 *   21012
<span class='line'>623</span> 			 *  2-####
<span class='line'>624</span> 			 *  1#----
<span class='line'>625</span> 			 *  0-###-
<span class='line'>626</span> 			 *  1----#
<span class='line'>627</span> 			 *  2####-
<span class='line'>628</span> 			 */</span><span class="WHIT">
<span class='line'>629</span> </span><span class="WHIT">		    </span><span class="NAME">vectorDiskImgS</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>630</span> </span><span class="WHIT">		    </span><span class="NAME">vectorDiskImgS</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/disk2.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>631</span> </span><span class="WHIT">		    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskSCoords</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>632</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 1: -####</span><span class="WHIT">
<span class='line'>633</span> </span><span class="WHIT">		          	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>634</span> </span><span class="WHIT">		          	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>635</span> </span><span class="WHIT">		          	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>636</span> </span><span class="WHIT">		          	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 2: #----</span><span class="WHIT">
<span class='line'>637</span> </span><span class="WHIT">		          	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 3: -###-</span><span class="WHIT">
<span class='line'>638</span> </span><span class="WHIT">		          	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>639</span> </span><span class="WHIT">		          	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>640</span> </span><span class="WHIT">		          	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 4: ----#</span><span class="WHIT">
<span class='line'>641</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 5: ####-</span><span class="WHIT">
<span class='line'>642</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>643</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>644</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>645</span> </span><span class="WHIT">	        </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>646</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskS</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">codef3D</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">900</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">35</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1600</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>647</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskS.vectorball_img</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">vectorDiskSCoords</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vectorDiskImgS</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>648</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskS.group.scale.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskS.group.scale.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskS.group.scale.z</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">60</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>649</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskS.group.position.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">240</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Position centre left</span><span class="WHIT">
<span class='line'>650</span> </span><span class="WHIT">	        </span><span class="COMM">/*
<span class='line'>651</span> 	         * Now the D:
<span class='line'>652</span> 	         *   21012
<span class='line'>653</span> 	         *   2####-
<span class='line'>654</span> 	         *   1#---#
<span class='line'>655</span> 	         *   0#---#
<span class='line'>656</span> 	         *   1#---#
<span class='line'>657</span> 	         *   2####-
<span class='line'>658</span> 	         */</span><span class="WHIT">
<span class='line'>659</span> </span><span class="WHIT">		    </span><span class="NAME">vectorDiskImgD</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>660</span> </span><span class="WHIT">		    </span><span class="NAME">vectorDiskImgD</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">image</span><span class="PUNC">(</span><span class="NAME">DEMO_ROOT</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"/def/resources/disk4.gif"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>661</span> </span><span class="WHIT">		    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskDCoords</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>662</span> </span><span class="WHIT">	 	           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 1: ####-</span><span class="WHIT">
<span class='line'>663</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>664</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>665</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>666</span> </span><span class="WHIT">	 	           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 2: #---#</span><span class="WHIT">
<span class='line'>667</span> </span><span class="WHIT">	 	           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>668</span> </span><span class="WHIT">	 	           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 3: #---#</span><span class="WHIT">
<span class='line'>669</span> </span><span class="WHIT">	 	           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>670</span> </span><span class="WHIT">	 	           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 4: #---#</span><span class="WHIT">
<span class='line'>671</span> </span><span class="WHIT">	 	           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>672</span> </span><span class="WHIT">	 	           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Row 5: ####-</span><span class="WHIT">
<span class='line'>673</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>674</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>675</span> </span><span class="WHIT">		           	            </span><span class="PUNC">{</span><span class="NAME">x</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">:</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">z</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">img</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>676</span> </span><span class="WHIT">	        </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>677</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskD</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">codef3D</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">900</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">35</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1600</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>678</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskD.vectorball_img</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">vectorDiskDCoords</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">vectorDiskImgD</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>679</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskD.group.scale.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskD.group.scale.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskD.group.scale.z</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">60</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>680</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskD.group.position.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">240</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Position centre right</span><span class="WHIT">
<span class='line'>681</span> </span><span class="WHIT">	        </span><span class="COMM">// Initial "sway" wobble.</span><span class="WHIT">
<span class='line'>682</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskSWobble</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>683</span> </span><span class="WHIT">						</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>684</span> </span><span class="WHIT">		 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>685</span> </span><span class="WHIT">						 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>686</span> </span><span class="WHIT">						</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>687</span> </span><span class="WHIT">						</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>688</span> </span><span class="WHIT">						 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>689</span> </span><span class="WHIT">						 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>690</span> </span><span class="WHIT">						</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>691</span> </span><span class="WHIT">			</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>692</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskDWobble</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>693</span> </span><span class="WHIT">					</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>694</span> </span><span class="WHIT">	 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>695</span> </span><span class="WHIT">					 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>696</span> </span><span class="WHIT">					</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>697</span> </span><span class="WHIT">					</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>698</span> </span><span class="WHIT">					 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>699</span> </span><span class="WHIT">					 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>700</span> </span><span class="WHIT">					</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>701</span> </span><span class="WHIT">	        </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>702</span> </span><span class="WHIT">	        </span><span class="COMM">// "Agitated" shaky wobble.</span><span class="WHIT">
<span class='line'>703</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskSWibble</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>704</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>705</span> </span><span class="WHIT">     				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>706</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>707</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>708</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>709</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>710</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>711</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>712</span> </span><span class="WHIT">    				</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>713</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>714</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.35</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>715</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.45</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>716</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>717</span> </span><span class="WHIT">    		</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>718</span> </span><span class="WHIT">	        </span><span class="NAME">vectorDiskDWibble</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>719</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>720</span> </span><span class="WHIT">     				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>721</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>722</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>723</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>724</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>725</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>726</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="WHIT">
<span class='line'>727</span> </span><span class="WHIT">    				</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>728</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>729</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">0.35</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>730</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="PUNC">-</span><span class="NUMB">0.45</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>731</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>732</span> </span><span class="WHIT">    		</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>733</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>734</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>735</span> </span><span class="WHIT">    	</span><span class="COMM">// Set up the "Any Key" button below the demo. </span><span class="WHIT">
<span class='line'>736</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>737</span> </span><span class="WHIT">    	</span><span class="COMM">// This has two functions. First, to let the viewer know that there's a credit, and</span><span class="WHIT">
<span class='line'>738</span> </span><span class="WHIT">    	</span><span class="COMM">// second, it allows the credits screen to be viewed on mobile devices, by clicking on </span><span class="WHIT">
<span class='line'>739</span> </span><span class="WHIT">    	</span><span class="COMM">// the button.</span><span class="WHIT">
<span class='line'>740</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">makeNextButton</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>741</span> </span><span class="WHIT">    		</span><span class="COMM">// Set up styling for the button</span><span class="WHIT">
<span class='line'>742</span> </span><span class="WHIT">    	    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">styleSheet</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">placeholder.parentNode.appendChild</span><span class="PUNC">(</span><span class="NAME">document.createElement</span><span class="PUNC">(</span><span class="STRN">'style'</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>743</span> </span><span class="WHIT">    	    </span><span class="NAME">styleSheet.innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"#SpaceBar {color:#000000;text-align:center;margin-left:auto; margin-right:auto; border:none; width: 640px; background-color: #ff6688; font-family: Courier, sans-serif; font-size: 14px; font-weight:bold; cursor: pointer; text-transform:uppercase;}"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>744</span> </span><span class="WHIT">    	    </span><span class="COMM">// Now create the button element below the demo screen.</span><span class="WHIT">
<span class='line'>745</span> </span><span class="WHIT">    	    </span><span class="NAME">nextButton</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">placeholder.parentNode.appendChild</span><span class="PUNC">(</span><span class="NAME">document.createElement</span><span class="PUNC">(</span><span class="STRN">'div'</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>746</span> </span><span class="WHIT">    	    </span><span class="NAME">nextButton.type</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"button"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>747</span> </span><span class="WHIT">    	    </span><span class="NAME">nextButton.innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"Press the any key for the Credits Screen!!!!!!"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>748</span> </span><span class="WHIT">    	    </span><span class="NAME">nextButton.id</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"SpaceBar"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>749</span> </span><span class="WHIT">    	    </span><span class="NAME">nextButton.style.opacity</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"0"</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Hide at first.</span><span class="WHIT">
<span class='line'>750</span> </span><span class="WHIT">    	    </span><span class="NAME">nextButton.addEventListener</span><span class="PUNC">(</span><span class="STRN">'mousedown'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">spaceBar</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Set up click events (Yes, you can click it even when it's hidden!)</span><span class="WHIT">
<span class='line'>751</span> </span><span class="WHIT">    	    </span><span class="NAME">nextButton.addEventListener</span><span class="PUNC">(</span><span class="STRN">'touchend'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">spaceBar</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>752</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>753</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>754</span> </span><span class="WHIT">    	</span><span class="COMM">// Make an evenly spaced CODEF gradient, given a list of colours</span><span class="WHIT">
<span class='line'>755</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">makeGradient</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">targetScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rasterList</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>756</span> </span><span class="WHIT">        	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">grad</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">targetScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">makeGradientColours</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">rasterList</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>757</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>758</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>759</span> </span><span class="WHIT">    	</span><span class="COMM">// Make an array of gradient parameters, given a list of of gradient colours</span><span class="WHIT">
<span class='line'>760</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>761</span> </span><span class="WHIT">    	</span><span class="COMM">// This works out the offsets for the gradients, assuming they are evenly spaced.</span><span class="WHIT">
<span class='line'>762</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">makeGradientColours</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">rasterList</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>763</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">gradientConstruct</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>764</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">offsetIncrement</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">rasterList.length</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Work out the offest spacing.</span><span class="WHIT">
<span class='line'>765</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">currentOffset</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Start offset</span><span class="WHIT">
<span class='line'>766</span> </span><span class="WHIT">    		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">rasterList.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>767</span> </span><span class="WHIT">    			</span><span class="NAME">gradientConstruct.push</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">color</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">rasterList</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">offset</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">currentOffset</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Put in the current colour and the offset</span><span class="WHIT">
<span class='line'>768</span> </span><span class="WHIT">    			</span><span class="NAME">currentOffset</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">offsetIncrement</span><span class="PUNC">;</span><span class="WHIT">											</span><span class="COMM">// Set offset for next colour</span><span class="WHIT">
<span class='line'>769</span> </span><span class="WHIT">    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>770</span> </span><span class="WHIT">    		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">gradientConstruct</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>771</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>772</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>773</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>774</span> 
<span class='line'>775</span> </span><span class="WHIT">    </span><span class="COMM">// MAIN DEMO SCREEN ======================================================================================</span><span class="WHIT">
<span class='line'>776</span> </span><span class="WHIT">    </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>777</span> </span><span class="WHIT">    </span><span class="COMM">// This sets up a lot of demo layers, which are turned on and off, or manipulated according to a schedule</span><span class="WHIT">
<span class='line'>778</span> </span><span class="WHIT">    </span><span class="COMM">// tied to various pattern and track positions in the soundtracker module. The idea of turning demo layers on </span><span class="WHIT">
<span class='line'>779</span> </span><span class="WHIT">    </span><span class="COMM">// and off was partly inspired by Mellow Man's CODEF demo creator ( http://codef.namwollem.co.uk/codef_demo_maker.html )</span><span class="WHIT">
<span class='line'>780</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">mainDemo</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>781</span> </span><span class="WHIT">    	</span><span class="COMM">// DEMO SCHEDULE:</span><span class="WHIT">
<span class='line'>782</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>783</span> </span><span class="WHIT">    	</span><span class="COMM">// This a large JSON array of the form:</span><span class="WHIT">
<span class='line'>784</span> </span><span class="WHIT">    	</span><span class="COMM">// var schedule = [</span><span class="WHIT">
<span class='line'>785</span> </span><span class="WHIT">    	</span><span class="COMM">//		{ trackPos: [module track position], patternPos: [module pattern position], </span><span class="WHIT">
<span class='line'>786</span> </span><span class="WHIT">    	</span><span class="COMM">//			layers: { effect1: [...], effect2: [...]</span><span class="WHIT">
<span class='line'>787</span> </span><span class="WHIT">    	</span><span class="COMM">//		}, </span><span class="WHIT">
<span class='line'>788</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>789</span> </span><span class="WHIT">    	</span><span class="COMM">//		[...]</span><span class="WHIT">
<span class='line'>790</span> </span><span class="WHIT">    	</span><span class="COMM">// ];</span><span class="WHIT">
<span class='line'>791</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>792</span> </span><span class="WHIT">    	</span><span class="COMM">// This allows us to turn on and off demo parts according to whether they "fit" the song at </span><span class="WHIT">
<span class='line'>793</span> </span><span class="WHIT">    	</span><span class="COMM">// the time. Note that the pattern position is actually the pattern position multipled by the</span><span class="WHIT">
<span class='line'>794</span> </span><span class="WHIT">    	</span><span class="COMM">// number of "ticks" per position. In the case of this demo, the module timing is 4 ticks, so</span><span class="WHIT">
<span class='line'>795</span> </span><span class="WHIT">    	</span><span class="COMM">// pattern position 64 is actually 64*4 = 256.</span><span class="WHIT">
<span class='line'>796</span> </span><span class="WHIT">    	</span><span class="COMM">// </span><span class="WHIT">
<span class='line'>797</span> </span><span class="WHIT">    	</span><span class="COMM">// Note that you only need to specify the demo layer that you want to show. We'll be going into</span><span class="WHIT">
<span class='line'>798</span> </span><span class="WHIT">    	</span><span class="COMM">// more detail about how those layers can be specified in the code for each of those demo layers.</span><span class="WHIT">
<span class='line'>799</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>800</span> </span><span class="WHIT">    	</span><span class="COMM">// This schedule idea was really useful in making it easy to move demo parts around, and sync them</span><span class="WHIT">
<span class='line'>801</span> </span><span class="WHIT">    	</span><span class="COMM">// with the music, so it might end up in TSDADS (The Senior Dads Advanced Demo System) in some form</span><span class="WHIT">
<span class='line'>802</span> </span><span class="WHIT">    	</span><span class="COMM">// in the future.</span><span class="WHIT">
<span class='line'>803</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>804</span> </span><span class="WHIT">    	</span><span class="COMM">// First a couple of demo layers, we'll be using a number of times in the schedule.</span><span class="WHIT">
<span class='line'>805</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> 			</span><span class="COMM">// Scroller, starfield, colour, disty Dad, and "'DEF" logo</span><span class="WHIT">
<span class='line'>806</span> </span><span class="WHIT">    			</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>807</span> </span><span class="WHIT">	    	  	</span><span class="NAME">starfield</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>808</span> </span><span class="WHIT">	    	  	</span><span class="NAME">title</span><span class="PUNC">:</span><span class="WHIT">	   </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">def</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">demo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>809</span> </span><span class="WHIT">	    	  	</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">     </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>810</span> </span><span class="WHIT">	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>811</span> </span><span class="WHIT">	    	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>812</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">  		</span><span class="COMM">// Scroller, starfield, colour, disty Dad, and "'DEMO" logo</span><span class="WHIT">
<span class='line'>813</span> </span><span class="WHIT">    			</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>814</span> </span><span class="WHIT">	    	  	</span><span class="NAME">starfield</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>815</span> </span><span class="WHIT">	    	  	</span><span class="NAME">title</span><span class="PUNC">:</span><span class="WHIT">	   </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">def</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">demo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>816</span> </span><span class="WHIT">	    	  	</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">     </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>817</span> </span><span class="WHIT">	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>818</span> </span><span class="WHIT">	    	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>819</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">   		</span><span class="COMM">// Scroller, starfield, colour, non-disty Dad, and DadCube flying around</span><span class="WHIT">
<span class='line'>820</span> </span><span class="WHIT">    			</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>821</span> </span><span class="WHIT">	    	  	</span><span class="NAME">starfield</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>822</span> </span><span class="WHIT">	    	  	</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">     </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>823</span> </span><span class="WHIT">	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>824</span> </span><span class="WHIT">	    	  	</span><span class="NAME">cube</span><span class="PUNC">:</span><span class="WHIT">	   </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">hold</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>825</span> </span><span class="WHIT">	    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>826</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeTrumpLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> 		</span><span class="COMM">// wobbly "Trump Hot Air Ballon" and scroller</span><span class="WHIT">
<span class='line'>827</span> </span><span class="WHIT">	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"trump"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>828</span> </span><span class="WHIT">	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>829</span> </span><span class="WHIT">	    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>830</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">    	</span><span class="COMM">// Scroller, starfield, colour, non-disty Dad, and DadCube stopping in mid air</span><span class="WHIT">
<span class='line'>831</span> </span><span class="WHIT">	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>832</span> </span><span class="WHIT">	    	  	</span><span class="NAME">starfield</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>833</span> </span><span class="WHIT">	    	  	</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">     </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>834</span> </span><span class="WHIT">	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>835</span> </span><span class="WHIT">	    	  	</span><span class="NAME">cube</span><span class="PUNC">:</span><span class="WHIT">	   </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">hold</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">on</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rot</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bye</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>836</span> </span><span class="WHIT">	    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>837</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldRotLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">    	</span><span class="COMM">// Scroller, starfield, colour, non-disty Dad, and DadCube wibbling about in fixed position</span><span class="WHIT">
<span class='line'>838</span> </span><span class="WHIT">	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>839</span> </span><span class="WHIT">	    	  	</span><span class="NAME">starfield</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>840</span> </span><span class="WHIT">	    	  	</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">     </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>841</span> </span><span class="WHIT">	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>842</span> </span><span class="WHIT">	    	  	</span><span class="NAME">cube</span><span class="PUNC">:</span><span class="WHIT">	   </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">hold</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">on</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rot</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bye</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>843</span> </span><span class="WHIT">	    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>844</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">endDefLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">  			</span><span class="COMM">// Scroller, diskfield, bottom beer rasters, non-disty Dad, and "'DEF" logo</span><span class="WHIT">
<span class='line'>845</span> </span><span class="WHIT">				</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  					</span><span class="COMM">// As the scroller was previously using background no. 7, this causes the scroller background to scroll through all the previous backgrounds!</span><span class="WHIT">
<span class='line'>846</span> </span><span class="WHIT">	    		</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>847</span> </span><span class="WHIT">	    	  	</span><span class="NAME">backGrad</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>848</span> </span><span class="WHIT">	    	  	</span><span class="NAME">title</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">def</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">demo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>849</span> </span><span class="WHIT">	    	  	</span><span class="NAME">diskfield</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>850</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>851</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">endDemoLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">   		</span><span class="COMM">// Scroller, diskfield, bottom beer rasters, non-disty Dad, and "DEMO" logo</span><span class="WHIT">
<span class='line'>852</span> </span><span class="WHIT">	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>853</span> </span><span class="WHIT">	    		</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>854</span> </span><span class="WHIT">	    	  	</span><span class="NAME">backGrad</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>855</span> </span><span class="WHIT">	    	  	</span><span class="NAME">title</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">def</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">demo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>856</span> </span><span class="WHIT">	    	  	</span><span class="NAME">diskfield</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>857</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>858</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">endSpriteDefLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">    	</span><span class="COMM">// Atari sprites, scroller, diskfield, bottom beer rasters, non-disty Dad, and "'DEF" logo</span><span class="WHIT">
<span class='line'>859</span> </span><span class="WHIT">	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>860</span> </span><span class="WHIT">	    		</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>861</span> </span><span class="WHIT">	    	  	</span><span class="NAME">backGrad</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>862</span> </span><span class="WHIT">	    	  	</span><span class="NAME">title</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">def</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">demo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>863</span> </span><span class="WHIT">	    	  	</span><span class="NAME">sprites</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">bob</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">atariBob</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>864</span> </span><span class="WHIT">	    	  	</span><span class="NAME">diskfield</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>865</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>866</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">endSpriteDemoLayers</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">     </span><span class="COMM">// Atari sprites, scroller, diskfield, bottom beer rasters, non-disty Dad, and "DEMO" logo</span><span class="WHIT">
<span class='line'>867</span> </span><span class="WHIT">	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>868</span> </span><span class="WHIT">	    		</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>869</span> </span><span class="WHIT">	    	  	</span><span class="NAME">backGrad</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>870</span> </span><span class="WHIT">	    	  	</span><span class="NAME">title</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">def</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">demo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>871</span> </span><span class="WHIT">	    	  	</span><span class="NAME">sprites</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">bob</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">atariBob</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>872</span> </span><span class="WHIT">	    	  	</span><span class="NAME">diskfield</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>873</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>874</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>875</span> </span><span class="WHIT">    	</span><span class="COMM">// Now the actual main schedule. Here we go...</span><span class="WHIT">
<span class='line'>876</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">schedule</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>877</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 					</span><span class="COMM">// As with the old Senior Dads Atari demos, it begins with the fanfare, and presents screen...</span><span class="WHIT">
<span class='line'>878</span> </span><span class="WHIT">    	        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>879</span> </span><span class="WHIT">    	        	    	  	</span><span class="NAME">presents</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>880</span> </span><span class="WHIT">    	        	    	  	</span><span class="NAME">loop</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="KEYW">false</span><span class="WHIT">
<span class='line'>881</span> </span><span class="WHIT">    	        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>882</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>883</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 					</span><span class="COMM">// But what's this? A logo's just plopped on screen!</span><span class="WHIT">
<span class='line'>884</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>885</span> </span><span class="WHIT">		        	    		</span><span class="NAME">presents</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>886</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>887</span> </span><span class="WHIT">    	        	    	  	</span><span class="NAME">loop</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="KEYW">false</span><span class="WHIT">
<span class='line'>888</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>889</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>890</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 					</span><span class="COMM">// And now it's wobbling about!!!</span><span class="WHIT">
<span class='line'>891</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>892</span> </span><span class="WHIT">		        	    		</span><span class="NAME">presents</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>893</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>894</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>895</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>896</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 					</span><span class="COMM">// Now it's bouncing up and down!</span><span class="WHIT">
<span class='line'>897</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>898</span> </span><span class="WHIT">		        	    		</span><span class="NAME">presents</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>899</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>900</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>901</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>902</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 					</span><span class="COMM">// Now a wibbly scroller in funny colours has started to appear!</span><span class="WHIT">
<span class='line'>903</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>904</span> </span><span class="WHIT">		        	    		</span><span class="NAME">presents</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>905</span> </span><span class="WHIT">	        	    			</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  						</span><span class="COMM">// (The scroller's set to it's inital background of a gradient.)</span><span class="WHIT">
<span class='line'>906</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>907</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>908</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>909</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">224</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 				</span><span class="COMM">// First appearance of the disty Dad, but the other logo's covering it's face!</span><span class="WHIT">
<span class='line'>910</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>911</span> </span><span class="WHIT">	        	    			</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>912</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">     </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>913</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>914</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>915</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>916</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Now the title screen. 'DEF...</span><span class="WHIT">
<span class='line'>917</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">32</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> 		</span><span class="COMM">// DEMO...</span><span class="WHIT">
<span class='line'>918</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> 		</span><span class="COMM">// 'DEF...</span><span class="WHIT">
<span class='line'>919</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">96</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> 		</span><span class="COMM">// DEMO...</span><span class="WHIT">
<span class='line'>920</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>921</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">160</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> 		</span><span class="COMM">// ... etc</span><span class="WHIT">
<span class='line'>922</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">192</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>923</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">224</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>924</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>925</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">32</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> 		</span><span class="COMM">// Now you see why we defined these layers earlier!</span><span class="WHIT">
<span class='line'>926</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>927</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">96</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>928</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>929</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">160</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>930</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">192</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>931</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">224</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">titleDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>932</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">9</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 							</span><span class="COMM">// Brief shot of both 'DEF and DEMO visible.</span><span class="WHIT">
<span class='line'>933</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>934</span> </span><span class="WHIT">    	    					</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  								</span><span class="COMM">// (Scroller set to go to new gradient background)</span><span class="WHIT">
<span class='line'>935</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">title</span><span class="PUNC">:</span><span class="WHIT">	   </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">def</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">demo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>936</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">     </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>937</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>938</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>939</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 							</span><span class="COMM">// COPPER PIPES!!!</span><span class="WHIT">
<span class='line'>940</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>941</span> </span><span class="WHIT">		        	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"netbest_back"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Fling up the "NetBest" background</span><span class="WHIT">
<span class='line'>942</span> </span><span class="WHIT">	        	    			</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>943</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">							</span><span class="COMM">// Bounce the logo up and down</span><span class="WHIT">
<span class='line'>944</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">rasterBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">											</span><span class="COMM">// Copper pipes in the background</span><span class="WHIT">
<span class='line'>945</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>946</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>947</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">12</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// DRUNKEN DAD!!!</span><span class="WHIT">
<span class='line'>948</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>949</span> </span><span class="WHIT">	    						</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  								</span><span class="COMM">// Scroller goes to green (Groo!!) background</span><span class="WHIT">
<span class='line'>950</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">backGrad</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">					</span><span class="COMM">// switch on both halves of beer raster background</span><span class="WHIT">
<span class='line'>951</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">     </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">							</span><span class="COMM">// Disty Dad for drunken look!!</span><span class="WHIT">
<span class='line'>952</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">diskfield</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT">											</span><span class="COMM">// Switch on diskfield. His mind is full of code as he staggers home from the pub!!!</span><span class="WHIT">
<span class='line'>953</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>954</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>955</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">16</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">32</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// Quick pause for breath...</span><span class="WHIT">
<span class='line'>956</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>957</span> </span><span class="WHIT">    							</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">4</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  								</span><span class="COMM">// Cue up next scroller background.</span><span class="WHIT">
<span class='line'>958</span> </span><span class="WHIT">		        	    		</span><span class="NAME">loop</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="KEYW">false</span><span class="WHIT">
<span class='line'>959</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>960</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>961</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">17</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 							</span><span class="COMM">// PHASE FOUR STEREO!!!</span><span class="WHIT">
<span class='line'>962</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>963</span> </span><span class="WHIT">		        	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"sad_back"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Fling up SD Website Background.</span><span class="WHIT">
<span class='line'>964</span> </span><span class="WHIT">		        	    		</span><span class="NAME">sprites</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  												</span><span class="COMM">// Switch on sprites, which as set to "Phase 4 Stereo" bobs.</span><span class="WHIT">
<span class='line'>965</span> </span><span class="WHIT">	        	    			</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>966</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">						</span><span class="COMM">// Bounces goes the logo!</span><span class="WHIT">
<span class='line'>967</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>968</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>969</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">21</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// Another slight pause, before we go to...</span><span class="WHIT">
<span class='line'>970</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>971</span> </span><span class="WHIT">		        	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"sad_back"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="WHIT">
<span class='line'>972</span> </span><span class="WHIT">		        	    		</span><span class="NAME">sprites</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>973</span> </span><span class="WHIT">    							</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  								</span><span class="COMM">// (Cue up next scroller background.)</span><span class="WHIT">
<span class='line'>974</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">			</span><span class="COMM">// (Logo goes back up top and freezes)</span><span class="WHIT">
<span class='line'>975</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>976</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>977</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">22</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// WE 'TRUMP' IN 3D!!!!!!! A 3d Dad-Mapped cube flying about a starfield!!!</span><span class="WHIT">
<span class='line'>978</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">22</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">48</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeTrumpLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// (BURP!)</span><span class="WHIT">
<span class='line'>979</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">22</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>980</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">22</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">112</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeTrumpLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// (BURP!)</span><span class="WHIT">
<span class='line'>981</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">22</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>982</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">22</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">208</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// 'I'm calling fo-o-o-o-o-o...' The cube suddenly stops and wobbles!!!</span><span class="WHIT">
<span class='line'>983</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">23</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">			</span><span class="COMM">// And the cube is off again...</span><span class="WHIT">
<span class='line'>984</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">23</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">48</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeTrumpLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// (BURP!)</span><span class="WHIT">
<span class='line'>985</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">23</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>986</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">23</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">112</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeTrumpLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// (BURP!)</span><span class="WHIT">
<span class='line'>987</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">23</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>988</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">23</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">208</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// 'I'm calling fo-o-o-o-o-o...' The cube's stopped again!!!!</span><span class="WHIT">
<span class='line'>989</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">24</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldRotLayers</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// ...o-o-o-o-o-o-o-o-o-o-o...' Now it cube's spinning like a madman!!!</span><span class="WHIT">
<span class='line'>990</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">24</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// And it's tumbling away! Goodbye, cube!</span><span class="WHIT">
<span class='line'>991</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>992</span> </span><span class="WHIT">        	    				</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">6</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  								</span><span class="COMM">// (Set up next scroller background. It's actually the Trump Picture from the last section!!)</span><span class="WHIT">
<span class='line'>993</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>994</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">diskfield</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>995</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">cube</span><span class="PUNC">:</span><span class="WHIT">	   </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">hold</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">on</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">rot</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bye</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>996</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>997</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>998</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">25</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 							</span><span class="COMM">// BURPY COPPER BARS!!!</span><span class="WHIT">
<span class='line'>999</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1000</span> </span><span class="WHIT">			    	    		</span><span class="NAME">coppers</span><span class="PUNC">:</span><span class="WHIT">   </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1001</span> </span><span class="WHIT">        	    				</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1002</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">				</span><span class="COMM">// Bouncing logo is back!</span><span class="WHIT">
<span class='line'>1003</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">					</span><span class="COMM">// The colour bars remain from the previous section</span><span class="WHIT">
<span class='line'>1004</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1005</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1006</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">27</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// But that's not all.. VECTOR DISKS as well!</span><span class="WHIT">
<span class='line'>1007</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1008</span> </span><span class="WHIT">			    	    		</span><span class="NAME">coppers</span><span class="PUNC">:</span><span class="WHIT">   </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1009</span> </span><span class="WHIT">			    	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1010</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1011</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1012</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">vectaDisk</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT">											</span><span class="COMM">// Just start them off with the normal rotation</span><span class="WHIT">
<span class='line'>1013</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1014</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1015</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">30</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// Hang on, they're starting to look agitated!</span><span class="WHIT">
<span class='line'>1016</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1017</span> </span><span class="WHIT">			    	    		</span><span class="NAME">coppers</span><span class="PUNC">:</span><span class="WHIT">   </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1018</span> </span><span class="WHIT">			    	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1019</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1020</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">colourBar</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1021</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">vectaDisk</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">wibble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">								</span><span class="COMM">// Turn on "agitated" wobble</span><span class="WHIT">
<span class='line'>1022</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1023</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1024</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">32</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// Back to the cube, but with a different background.</span><span class="WHIT">
<span class='line'>1025</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1026</span> </span><span class="WHIT">    	    					</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">  											</span><span class="COMM">// Use the "Presents" background for the scroller background here</span><span class="WHIT">
<span class='line'>1027</span> </span><span class="WHIT">		        	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"ptrail_bkg"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// Fling up "Press Trail" background.</span><span class="WHIT">
<span class='line'>1028</span> </span><span class="WHIT">			    	    		</span><span class="NAME">cube</span><span class="PUNC">:</span><span class="WHIT"> 	   	</span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>1029</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1030</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1031</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">33</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// Wait a sec, a (non-disty) Dad has appeared!</span><span class="WHIT">
<span class='line'>1032</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1033</span> </span><span class="WHIT">			    	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1034</span> </span><span class="WHIT">		        	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"ptrail_bkg"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1035</span> </span><span class="WHIT">		        	    		</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1036</span> </span><span class="WHIT">			    	    		</span><span class="NAME">cube</span><span class="PUNC">:</span><span class="WHIT"> 	   	</span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>1037</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1038</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1039</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">34</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// Oh, it's gone away again!</span><span class="WHIT">
<span class='line'>1040</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1041</span> </span><span class="WHIT">			    	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1042</span> </span><span class="WHIT">		        	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"ptrail_bkg"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1043</span> </span><span class="WHIT">			    	    		</span><span class="NAME">cube</span><span class="PUNC">:</span><span class="WHIT"> 	   	</span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>1044</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1045</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1046</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">35</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 						</span><span class="COMM">// Now, it's back again, only with the 3D diskfield and top half of the beer rasters</span><span class="WHIT">
<span class='line'>1047</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1048</span> </span><span class="WHIT">	    						</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1049</span> </span><span class="WHIT">		        	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"ptrail_bkg"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1050</span> </span><span class="WHIT">		        	    		</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1051</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">backGrad</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1052</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">diskfield</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1053</span> </span><span class="WHIT">			    	    		</span><span class="NAME">cube</span><span class="PUNC">:</span><span class="WHIT"> 	   	</span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>1054</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1055</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">															</span><span class="COMM">// Back to the 'Def demo titles, only with the diskfield and (bottom half) beer rasters.</span><span class="WHIT">
<span class='line'>1056</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">36</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// 'DEF...</span><span class="WHIT">
<span class='line'>1057</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">36</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// 'DEMO..</span><span class="WHIT">
<span class='line'>1058</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">36</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// 'DEF...</span><span class="WHIT">
<span class='line'>1059</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">36</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">192</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// 'DEMO..</span><span class="WHIT">
<span class='line'>1060</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">37</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1061</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">37</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// .. etc. ...</span><span class="WHIT">
<span class='line'>1062</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">37</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1063</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">37</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">192</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1064</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">38</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endSpriteDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">	</span><span class="COMM">// Now, we're adding the "Atari" sprites!</span><span class="WHIT">
<span class='line'>1065</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">38</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endSpriteDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1066</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">38</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endSpriteDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1067</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">38</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">192</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endSpriteDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1068</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endSpriteDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1069</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">64</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endSpriteDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1070</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endSpriteDefLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1071</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">39</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">192</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">endSpriteDemoLayers</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1072</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">40</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 					</span><span class="COMM">// Take out the diskfield and 'DEF/DEMO, and replace with the vector disks</span><span class="WHIT">
<span class='line'>1073</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1074</span> </span><span class="WHIT">	    						</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT">   </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">back</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">7</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT"> 							</span><span class="COMM">// Go to "Presents" background. Background was previously no. 1, so this scrolls through all the backgrounds again! </span><span class="WHIT">
<span class='line'>1075</span> </span><span class="WHIT">			    	    		</span><span class="NAME">disty</span><span class="PUNC">:</span><span class="WHIT">	   	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1076</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">backGrad</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">top</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">bottom</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1077</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">sprite</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">bob</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">atariBob</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1078</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">vectaDisk</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>1079</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1080</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1081</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">40</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">240</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 				</span><span class="COMM">// Fling up "Presents" background, which slightly mis-matches with scroller background!</span><span class="WHIT">
<span class='line'>1082</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1083</span> </span><span class="WHIT">			    	    		</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1084</span> </span><span class="WHIT">		        	    		</span><span class="NAME">backdrop</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"presents"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1085</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">sprite</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">bob</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">atariBob</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1086</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1087</span> </span><span class="WHIT">			    	    	  	</span><span class="NAME">vectaDisk</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="WHIT">
<span class='line'>1088</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1089</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1090</span> </span><span class="WHIT">		        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">41</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 					</span><span class="COMM">// Just leave the frozen logo, and frozen (mismatched) scroller</span><span class="WHIT">
<span class='line'>1091</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1092</span> </span><span class="WHIT">		    	    			</span><span class="NAME">scroller</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1093</span> </span><span class="WHIT">		        	    		</span><span class="NAME">presents</span><span class="PUNC">:</span><span class="WHIT">  </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1094</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">logo</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1095</span> </span><span class="WHIT">		        	    	  	</span><span class="NAME">loop</span><span class="PUNC">:</span><span class="WHIT">      </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1096</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1097</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1098</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">42</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 					</span><span class="COMM">// Now, take everything away apart from the "Presents" screen. Now we're back at the start!</span><span class="WHIT">
<span class='line'>1099</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1100</span> </span><span class="WHIT">		        	    		</span><span class="NAME">presents</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1101</span> </span><span class="WHIT">		        	    		</span><span class="NAME">loop</span><span class="PUNC">:</span><span class="WHIT">      	</span><span class="KEYW">false</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1102</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1103</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1104</span> </span><span class="WHIT">    	        	    </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">trackPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">42</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">patternPos</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">layers</span><span class="PUNC">:</span><span class="WHIT"> 				</span><span class="COMM">// Whilst we're waiting for the music to restart, bring up the "Any Key" button.</span><span class="WHIT">
<span class='line'>1105</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1106</span> </span><span class="WHIT">    	        	    		</span><span class="NAME">spacebar</span><span class="PUNC">:</span><span class="WHIT"> 	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1107</span> </span><span class="WHIT">		        	    		</span><span class="NAME">presents</span><span class="PUNC">:</span><span class="WHIT">  	</span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT">  </span><span class="WHIT">
<span class='line'>1108</span> </span><span class="WHIT">		        	    		</span><span class="NAME">loop</span><span class="PUNC">:</span><span class="WHIT">      	</span><span class="KEYW">true</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1109</span> </span><span class="WHIT">		        	    	</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1110</span> </span><span class="WHIT">		        	    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1111</span> </span><span class="WHIT">    	</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1112</span> 
<span class='line'>1113</span> </span><span class="WHIT">    	</span><span class="COMM">// MAIN DEMO INITIALISATION</span><span class="WHIT">
<span class='line'>1114</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">loopOn</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// If true, the animation loop is on.</span><span class="WHIT">
<span class='line'>1115</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">logoY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">50</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Y-pos of wobbly logo</span><span class="WHIT">
<span class='line'>1116</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">logoPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1.8</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Sinewave position of wobbly logo</span><span class="WHIT">
<span class='line'>1117</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">405</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Current y-pos of backdrop</span><span class="WHIT">
<span class='line'>1118</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// True if we don't need to clear the backdrop canvas before drawing</span><span class="WHIT">
<span class='line'>1119</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">copperY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// y-pos of "burpy" copper source</span><span class="WHIT">
<span class='line'>1120</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">currentScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Base y-position of scroller background</span><span class="WHIT">
<span class='line'>1121</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">nextScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">currentScrollBackPos</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Next y-position of scroller background</span><span class="WHIT">
<span class='line'>1122</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">colourBarSpeed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Speed of movement of top and bottom colour bars</span><span class="WHIT">
<span class='line'>1123</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">colourbarXTop</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// X-position of colour bar soure for top colour bar</span><span class="WHIT">
<span class='line'>1124</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">colourbarXBottom</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// X-position of colour bar soure for bottom colour bar</span><span class="WHIT">
<span class='line'>1125</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rasterBar1Y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="PUNC">;</span><span class="WHIT"> 							</span><span class="COMM">// Y-pos of copper pipes</span><span class="WHIT">
<span class='line'>1126</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rasterBar2Y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar1Y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1127</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rasterBar3Y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar1Y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1128</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rasterBarSpacing</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.60</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Spacing between copper pipes</span><span class="WHIT">
<span class='line'>1129</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rasterBarSpeed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.050</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Speed of copper pipes movement</span><span class="WHIT">
<span class='line'>1130</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rasterBar1Pos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1.8</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Inital sinewave pos of copper pipes</span><span class="WHIT">
<span class='line'>1131</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rasterBar2Pos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar1Pos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">rasterBarSpacing</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1132</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">rasterBar3Pos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar2Pos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">rasterBarSpacing</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1133</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">										</span><span class="COMM">// Inital coordinates of DadCube</span><span class="WHIT">
<span class='line'>1134</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1135</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeRotX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Inital rotation of DadCube</span><span class="WHIT">
<span class='line'>1136</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeRotY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1137</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">dadCubeRotZ</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1138</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskSX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskS.group.position.x</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Inital coordinates of vector disks (We're not going to be fiddling with the z-coords in this case.)</span><span class="WHIT">
<span class='line'>1139</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskSY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskS.group.position.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1140</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskDX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskD.group.position.x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1141</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskDY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskD.group.position.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1142</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Inital rotation of vector disks</span><span class="WHIT">
<span class='line'>1143</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1144</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotZ</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1145</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1146</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1147</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotZ</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1148</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">currentBob</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">phase4bob</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Set the current bob for the Sprites screen</span><span class="WHIT">
<span class='line'>1149</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">spacebarOpactity</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Opacity of the "Any Key" button. (We've set it to clear.)</span><span class="WHIT">
<span class='line'>1150</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>1151</span> </span><span class="WHIT">    	</span><span class="COMM">// OK, LET'S GO!!!!!!!!!!</span><span class="WHIT">
<span class='line'>1152</span> </span><span class="WHIT">    	</span><span class="NAME">music_Sashy.play</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Start the music playing</span><span class="WHIT">
<span class='line'>1153</span> </span><span class="WHIT">    	</span><span class="NAME">currentPart</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">schedule</span><span class="PUNC">[</span><span class="NAME">currentPos</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">layers</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Get the inital demo part</span><span class="WHIT">
<span class='line'>1154</span> </span><span class="WHIT">    	</span><span class="NAME">scheduleNextPart</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Schedule the next part    	</span><span class="WHIT">
<span class='line'>1155</span> </span><span class="WHIT">    	</span><span class="NAME">window.onkeypress</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">mainDemoAbort</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Set the "any key" to go to the end of this part, and then onto the credits screen</span><span class="WHIT">
<span class='line'>1156</span> </span><span class="WHIT">    	</span><span class="NAME">demo_loop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Now start the demo loop!</span><span class="WHIT">
<span class='line'>1157</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>1158</span> </span><span class="WHIT">    	</span><span class="COMM">// MAIN DEMO LOOP</span><span class="WHIT">
<span class='line'>1159</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1160</span> </span><span class="WHIT">    	</span><span class="COMM">// This simply goes through all the effects layers, and checks if needs to continue. </span><span class="WHIT">
<span class='line'>1161</span> </span><span class="WHIT">    	</span><span class="COMM">// If it does, this function will be called again in the next frame.</span><span class="WHIT">
<span class='line'>1162</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">demo_loop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1163</span> </span><span class="WHIT">        	</span><span class="NAME">draw_mainScreen</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1164</span> </span><span class="WHIT">        	</span><span class="NAME">draw_presentsScreen</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1165</span> </span><span class="WHIT">        	</span><span class="NAME">draw_backDrop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1166</span> </span><span class="WHIT">        	</span><span class="NAME">draw_coppers</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1167</span> </span><span class="WHIT">        	</span><span class="NAME">draw_sprites</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1168</span> </span><span class="WHIT">        	</span><span class="NAME">draw_backGradient</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1169</span> </span><span class="WHIT">        	</span><span class="NAME">draw_starfield</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1170</span> </span><span class="WHIT">        	</span><span class="NAME">draw_title</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1171</span> </span><span class="WHIT">        	</span><span class="NAME">draw_diskField</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1172</span> </span><span class="WHIT">        	</span><span class="NAME">draw_vectorDisks</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1173</span> </span><span class="WHIT">        	</span><span class="NAME">draw_distyDad</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1174</span> </span><span class="WHIT">    		</span><span class="NAME">draw_logo</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1175</span> </span><span class="WHIT">    		</span><span class="NAME">draw_rasterBar</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1176</span> </span><span class="WHIT">    		</span><span class="NAME">draw_dadCube</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1177</span> </span><span class="WHIT">    		</span><span class="NAME">draw_colourBar</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1178</span> </span><span class="WHIT">        	</span><span class="NAME">draw_scroller</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1179</span> </span><span class="WHIT">        	</span><span class="NAME">display_spacebar</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1180</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DEBUG</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">updatestats</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// If we're in debug mode, show the stats.</span><span class="WHIT">
<span class='line'>1181</span> </span><span class="WHIT">        	</span><span class="NAME">checkContinue</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// If we're continuing, this will call the demo loop in the next frame.</span><span class="WHIT">
<span class='line'>1182</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1183</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1184</span> </span><span class="WHIT">        </span><span class="COMM">// DEMO SCHEDULING</span><span class="WHIT">
<span class='line'>1185</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1186</span> </span><span class="WHIT">        </span><span class="COMM">// This pops off the track and pattern positions for the next part, and uses it to set the next</span><span class="WHIT">
<span class='line'>1187</span> </span><span class="WHIT">        </span><span class="COMM">// part to occur when the music reaches that point. (The Senior Dads Music player class allows</span><span class="WHIT">
<span class='line'>1188</span> </span><span class="WHIT">        </span><span class="COMM">// to set a "breakpoint" so that a function is executed when a tracker module gets to a certain position.)</span><span class="WHIT">
<span class='line'>1189</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">scheduleNextPart</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1190</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">currentPos</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">schedule.length</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">				</span><span class="COMM">// If we're not at the end of schedule...</span><span class="WHIT">
<span class='line'>1191</span> </span><span class="WHIT">	        	</span><span class="NAME">SeniorDads.Music.SetBreakPoint</span><span class="PUNC">(</span><span class="WHIT">						</span><span class="COMM">// Set the next part to execute at the next music breakpoint.</span><span class="WHIT">
<span class='line'>1192</span> </span><span class="WHIT">	    			</span><span class="NAME">schedule</span><span class="PUNC">[</span><span class="NAME">currentPos</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">trackPos</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1193</span> </span><span class="WHIT">	    			</span><span class="NAME">schedule</span><span class="PUNC">[</span><span class="NAME">currentPos</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">patternPos</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1194</span> </span><span class="WHIT">	    			</span><span class="NAME">doNextPart</span><span class="WHIT">
<span class='line'>1195</span> </span><span class="WHIT">	        	</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1196</span> </span><span class="WHIT">	        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DEBUG</span><span class="PUNC">)</span><span class="WHIT"> 			</span><span class="COMM">// If we're debugging, display when the next part is going to happen.</span><span class="WHIT">
<span class='line'>1197</span> </span><span class="WHIT">		        	</span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="STRN">'scheduleInfo'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"&lt;br/>&lt;br/>Playing schedule part "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">currentPos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">" of "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">schedule.length</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT">
<span class='line'>1198</span> </span><span class="WHIT">	        		</span><span class="STRN">". Next part will be played at module position track "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Music.BreakPoint_Track</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="STRN">", position "</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Music.BreakPoint_Pattern</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1199</span> </span><span class="WHIT">	        		</span><span class="STRN">". "</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1200</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1201</span> </span><span class="WHIT">        	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">		</span><span class="COMM">// If we're at the end of the schedule, reset schedule/</span><span class="WHIT">
<span class='line'>1202</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DEBUG</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="STRN">'scheduleInfo'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"&lt;br/>&lt;br/>End of schedule. Resetting. "</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// If we're debugging, display that we're at the end of schedule</span><span class="WHIT">
<span class='line'>1203</span> </span><span class="WHIT">        		</span><span class="NAME">resetContent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Reset any content that needs reset</span><span class="WHIT">
<span class='line'>1204</span> </span><span class="WHIT">				</span><span class="NAME">currentPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Reset schedule pointer</span><span class="WHIT">
<span class='line'>1205</span> </span><span class="WHIT">	        	</span><span class="NAME">SeniorDads.Music.SetBreakPoint</span><span class="PUNC">(</span><span class="WHIT">		</span><span class="COMM">// And get ready to start the demo again as soon as the music re-starts</span><span class="WHIT">
<span class='line'>1206</span> </span><span class="WHIT">		    			</span><span class="NAME">schedule</span><span class="PUNC">[</span><span class="NAME">currentPos</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">trackPos</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1207</span> </span><span class="WHIT">		    			</span><span class="NAME">schedule</span><span class="PUNC">[</span><span class="NAME">currentPos</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">patternPos</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1208</span> </span><span class="WHIT">		    			</span><span class="NAME">doNextPart</span><span class="WHIT">
<span class='line'>1209</span> </span><span class="WHIT">		        	</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1210</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1211</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1212</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1213</span> </span><span class="WHIT">        </span><span class="COMM">// This is call when the music breakpoint (Set the by the scheduler above) is reached.</span><span class="WHIT">
<span class='line'>1214</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">doNextPart</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1215</span> </span><span class="WHIT">			</span><span class="NAME">currentPos</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Move schedule pointer onto next part of the schedule</span><span class="WHIT">
<span class='line'>1216</span> </span><span class="WHIT">			</span><span class="NAME">currentPart</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">schedule</span><span class="PUNC">[</span><span class="NAME">currentPos</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">layers</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Set the current demo layers from the schedule</span><span class="WHIT">
<span class='line'>1217</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">currentPos</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">schedule.length</span><span class="PUNC">)</span><span class="WHIT"> 			</span><span class="COMM">// If we're at the end of the schedule, reset pointer</span><span class="WHIT">
<span class='line'>1218</span> </span><span class="WHIT">				</span><span class="NAME">currentPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1219</span> </span><span class="WHIT">			</span><span class="NAME">scheduleNextPart</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Schedule the next demo part</span><span class="WHIT">
<span class='line'>1220</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">loopOn</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">requestAnimFrame</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">demo_loop</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// If the demo loop was turned off, start it again.</span><span class="WHIT">
<span class='line'>1221</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1222</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1223</span> </span><span class="WHIT">        </span><span class="COMM">// This checks if the demo loop is to continue, by checking the demo layers from the schedule.</span><span class="WHIT">
<span class='line'>1224</span> </span><span class="WHIT">        </span><span class="COMM">// In some parts of the schedule, we turn it off (eg for the "freeze-frame" bits.)</span><span class="WHIT">
<span class='line'>1225</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1226</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1227</span> </span><span class="WHIT">        </span><span class="COMM">//		loop: true/false (default is true)</span><span class="WHIT">
<span class='line'>1228</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">checkContinue</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1229</span> </span><span class="WHIT">    		</span><span class="NAME">loopOn</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">defaultTrue</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.loop</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1230</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">loopOn</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">requestAnimFrame</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">demo_loop</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1231</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1232</span> 
<span class='line'>1233</span> </span><span class="WHIT">        </span><span class="COMM">// Reset any content that needs to be reset. (Mainly the scroller)</span><span class="WHIT">
<span class='line'>1234</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">resetContent</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1235</span> </span><span class="WHIT">        	</span><span class="NAME">scrollLine.scroffset</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1236</span> </span><span class="WHIT">        	</span><span class="NAME">scrollOffScreen.clear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1237</span> </span><span class="WHIT">        	</span><span class="NAME">scrollScreen.clear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1238</span> </span><span class="WHIT">        	</span><span class="NAME">currentScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1239</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1240</span> 
<span class='line'>1241</span> </span><span class="WHIT">        </span><span class="COMM">// DEMO LAYERS ===========================================================================================</span><span class="WHIT">
<span class='line'>1242</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1243</span> </span><span class="WHIT">        </span><span class="COMM">// MAIN SCREEN</span><span class="WHIT">
<span class='line'>1244</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1245</span> </span><span class="WHIT">        </span><span class="COMM">// Basically clears the main screen canvas. Exciting, huh!</span><span class="WHIT">
<span class='line'>1246</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1247</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1248</span> </span><span class="WHIT">        </span><span class="COMM">//		main: true/false (default is true)</span><span class="WHIT">
<span class='line'>1249</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_mainScreen</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1250</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultTrue</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.main</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">		</span><span class="COMM">// If we're showing the main screen</span><span class="WHIT">
<span class='line'>1251</span> </span><span class="WHIT">    		</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1252</span> </span><span class="WHIT">	    		</span><span class="NAME">mainScreen.clear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">  					</span><span class="COMM">// ... clear it.</span><span class="WHIT">
<span class='line'>1253</span> </span><span class="WHIT">	    		</span><span class="NAME">mainScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1254</span> </span><span class="WHIT">    		</span><span class="PUNC">}</span><span class="WHIT">   </span><span class="WHIT">
<span class='line'>1255</span> </span><span class="WHIT">        	</span><span class="KEYW">else</span><span class="WHIT">
<span class='line'>1256</span> </span><span class="WHIT">        		</span><span class="NAME">mainScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Otherwise, hide it.</span><span class="WHIT">
<span class='line'>1257</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1258</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1259</span> </span><span class="WHIT">        </span><span class="COMM">// "SENIOR DADS PRESENT" SCREEN</span><span class="WHIT">
<span class='line'>1260</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1261</span> </span><span class="WHIT">        </span><span class="COMM">// Show or hide "Presents" screen.</span><span class="WHIT">
<span class='line'>1262</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1263</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1264</span> </span><span class="WHIT">        </span><span class="COMM">//		presents: true/false (default is false)</span><span class="WHIT">
<span class='line'>1265</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_presentsScreen</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1266</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.presents</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> 	</span><span class="WHIT">
<span class='line'>1267</span> </span><span class="WHIT">        		</span><span class="NAME">presentsScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1268</span> </span><span class="WHIT">        	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1269</span> </span><span class="WHIT">        		</span><span class="NAME">presentsScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1270</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1271</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1272</span> </span><span class="WHIT">        </span><span class="COMM">// WIBBLY BACKDROP</span><span class="WHIT">
<span class='line'>1273</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1274</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1275</span> </span><span class="WHIT">        </span><span class="COMM">//		backdrop: { </span><span class="WHIT">
<span class='line'>1276</span> </span><span class="WHIT">        </span><span class="COMM">//			name: "[name of image in backdrop hash array]" , </span><span class="WHIT">
<span class='line'>1277</span> </span><span class="WHIT">        </span><span class="COMM">//			animate :true/false (default is false),				&lt;- Whether to fling in the image from the bottom of the screen or not</span><span class="WHIT">
<span class='line'>1278</span> </span><span class="WHIT">        </span><span class="COMM">//			wobble :true/false (default is false)				&lt;- Whether to do the wobble or not</span><span class="WHIT">
<span class='line'>1279</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1280</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_backDrop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1281</span> </span><span class="WHIT">            </span><span class="COMM">// Main backdrop code now moved outside, as it's also being used in the credits screen as well.</span><span class="WHIT">
<span class='line'>1282</span> </span><span class="WHIT">        	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backDropChanges</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">backDrop</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.backdrop</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1283</span> </span><span class="WHIT">        	</span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">backDropChanges.backDropY</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1284</span> </span><span class="WHIT">        	</span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">backDropChanges.backdropCleared</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1285</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1286</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1287</span> </span><span class="WHIT">        </span><span class="COMM">// "BURPY" COPPERS</span><span class="WHIT">
<span class='line'>1288</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1289</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1290</span> </span><span class="WHIT">        </span><span class="COMM">//		coppers: true/false (default is false)</span><span class="WHIT">
<span class='line'>1291</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_coppers</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1292</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.coppers</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1293</span> </span><span class="WHIT">            	</span><span class="COMM">// We're copying the copper source, from the current source y-pos, 20 times down the screen. </span><span class="WHIT">
<span class='line'>1294</span> </span><span class="WHIT">            	</span><span class="COMM">// As we go down the screen, we're also increasing the y-pos, so as to give a "Venetian blind" effect!</span><span class="WHIT">
<span class='line'>1295</span> </span><span class="WHIT">            	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">copperStart</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">												</span><span class="COMM">// Venetian blind index!</span><span class="WHIT">
<span class='line'>1296</span> </span><span class="WHIT">            	</span><span class="KEYW">for</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">copperCopy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">copperCopy</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">copperCopy</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">	</span><span class="WHIT">
<span class='line'>1297</span> </span><span class="WHIT">            		</span><span class="NAME">copperStart</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">												</span><span class="COMM">// Start opening the Venetian blinds!!</span><span class="WHIT">
<span class='line'>1298</span> </span><span class="WHIT">            		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">copperStart</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">10</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">copperStart</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// From half way down, open the Venetian blinds a bit more!</span><span class="WHIT">
<span class='line'>1299</span> </span><span class="WHIT">            		</span><span class="COMM">// Copy from the copper source, and stretch across the width of the screen.</span><span class="WHIT">
<span class='line'>1300</span> </span><span class="WHIT">            		</span><span class="NAME">copperSource.drawPart</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">copperScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">copperCopy</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">copperStart</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">copperY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">640</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1301</span> </span><span class="WHIT">            	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1302</span> </span><span class="WHIT">            	</span><span class="NAME">copperScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1303</span> </span><span class="WHIT">	        	</span><span class="NAME">copperY</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Move onto next base position for the next frame</span><span class="WHIT">
<span class='line'>1304</span> </span><span class="WHIT">	        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">copperY</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">400</span><span class="PUNC">)</span><span class="WHIT">		</span><span class="COMM">// If we're at the end</span><span class="WHIT">
<span class='line'>1305</span> </span><span class="WHIT">	        		</span><span class="NAME">copperY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// ... Reset the y-pos of the copper source</span><span class="WHIT">
<span class='line'>1306</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1307</span> </span><span class="WHIT">        	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1308</span> </span><span class="WHIT">        		</span><span class="NAME">copperY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1309</span> </span><span class="WHIT">            	</span><span class="NAME">copperScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1310</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1311</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1312</span> 
<span class='line'>1313</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1314</span> </span><span class="WHIT">        </span><span class="COMM">// BEER RASTERS</span><span class="WHIT">
<span class='line'>1315</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1316</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1317</span> </span><span class="WHIT">        </span><span class="COMM">//		backGrad: { </span><span class="WHIT">
<span class='line'>1318</span> </span><span class="WHIT">        </span><span class="COMM">//			top :true/false (default is false),				&lt;- Show top half of beer rasters</span><span class="WHIT">
<span class='line'>1319</span> </span><span class="WHIT">        </span><span class="COMM">//			bottom :true/false (default is false)			&lt;- Show bottom half of beer rasters</span><span class="WHIT">
<span class='line'>1320</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1321</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_backGradient</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1322</span> </span><span class="WHIT">			</span><span class="NAME">backGradientTopScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Hide both halves by default</span><span class="WHIT">
<span class='line'>1323</span> </span><span class="WHIT">			</span><span class="NAME">backGradientBottomScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1324</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.backGrad</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">					</span><span class="COMM">// However, if they're specified in the schedule.</span><span class="WHIT">
<span class='line'>1325</span> </span><span class="WHIT">        		</span><span class="COMM">// ... Show the canvases according to whether top and/or bottom is specified. (Easy, huh!)</span><span class="WHIT">
<span class='line'>1326</span> </span><span class="WHIT">    			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.backGrad.top</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">backGradientTopScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="WHIT">
<span class='line'>1327</span> </span><span class="WHIT">    			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.backGrad.bottom</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">backGradientBottomScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1328</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1329</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1330</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1331</span> </span><span class="WHIT">        </span><span class="COMM">// 2D STARFIELD</span><span class="WHIT">
<span class='line'>1332</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1333</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1334</span> </span><span class="WHIT">        </span><span class="COMM">//		starfield: true/false (default is false)</span><span class="WHIT">
<span class='line'>1335</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_starfield</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1336</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.starfield</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">SDStarfield.draw</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// That was easy!</span><span class="WHIT">
<span class='line'>1337</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1338</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1339</span> </span><span class="WHIT">        </span><span class="COMM">// 'DEF DEMO TITLE</span><span class="WHIT">
<span class='line'>1340</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1341</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1342</span> </span><span class="WHIT">        </span><span class="COMM">//		title: { </span><span class="WHIT">
<span class='line'>1343</span> </span><span class="WHIT">        </span><span class="COMM">//			def :true/false (default is false),			&lt;- Show "'Def" title</span><span class="WHIT">
<span class='line'>1344</span> </span><span class="WHIT">        </span><span class="COMM">//			demo :true/false (default is false)			&lt;- Show "'Demo" title</span><span class="WHIT">
<span class='line'>1345</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1346</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_title</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1347</span> </span><span class="WHIT">        	</span><span class="NAME">titleDefScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Hide both title by default</span><span class="WHIT">
<span class='line'>1348</span> </span><span class="WHIT">        	</span><span class="NAME">titleDemoScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1349</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.title</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">				</span><span class="COMM">// Similar to the Beer Rasters- if we have something in the schedule...</span><span class="WHIT">
<span class='line'>1350</span> </span><span class="WHIT">        		</span><span class="COMM">// ... Show the canvases according to whether "def" and/or "demo" is specified.</span><span class="WHIT">
<span class='line'>1351</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.title.def</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">titleDefScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1352</span> </span><span class="WHIT">	    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.title.demo</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">titleDemoScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1353</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1354</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1355</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1356</span> </span><span class="WHIT">        </span><span class="COMM">// DISTY DAD</span><span class="WHIT">
<span class='line'>1357</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1358</span> </span><span class="WHIT">        </span><span class="COMM">// Well, it *can* be disty, if you want.</span><span class="WHIT">
<span class='line'>1359</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1360</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1361</span> </span><span class="WHIT">        </span><span class="COMM">//		disty: true 									&lt;- Show disty Dad *without* the dist!</span><span class="WHIT">
<span class='line'>1362</span> </span><span class="WHIT">        </span><span class="COMM">//		disty: { </span><span class="WHIT">
<span class='line'>1363</span> </span><span class="WHIT">        </span><span class="COMM">//			animate :true/false (default is false)		&lt;- Turn dist on or off</span><span class="WHIT">
<span class='line'>1364</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1365</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_distyDad</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1366</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.disty</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">			</span><span class="COMM">// If we've turned the Dads on...</span><span class="WHIT">
<span class='line'>1367</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.disty.animate</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">									</span><span class="COMM">// If we're animating...</span><span class="WHIT">
<span class='line'>1368</span> </span><span class="WHIT">        			</span><span class="NAME">SDDistyDadFX.sinx</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">SDDistyDad.img.width</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Draw the disty version</span><span class="WHIT">
<span class='line'>1369</span> </span><span class="WHIT">        		</span><span class="KEYW">else</span><span class="WHIT">
<span class='line'>1370</span> </span><span class="WHIT">        			</span><span class="NAME">SDDistyDad.draw</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">SDDistyDad.img.width</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Otherwise, draw the static version</span><span class="WHIT">
<span class='line'>1371</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1372</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1373</span> </span><span class="WHIT">        </span><span class="COMM">// WOBBLY LOGO</span><span class="WHIT">
<span class='line'>1374</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1375</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1376</span> </span><span class="WHIT">        </span><span class="COMM">//		logo: true 										&lt;- Show static logo at top of screen</span><span class="WHIT">
<span class='line'>1377</span> </span><span class="WHIT">        </span><span class="COMM">//		logo: { </span><span class="WHIT">
<span class='line'>1378</span> </span><span class="WHIT">        </span><span class="COMM">//			animate :true/false (default is false),				&lt;- Whether to bounce logo up and down or not</span><span class="WHIT">
<span class='line'>1379</span> </span><span class="WHIT">        </span><span class="COMM">//			wobble :true/false (default is false)				&lt;- Whether to do the wobble or not</span><span class="WHIT">
<span class='line'>1380</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1381</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_logo</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1382</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.logo</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">				</span><span class="COMM">// If we're doing the logo...</span><span class="WHIT">
<span class='line'>1383</span> </span><span class="WHIT">    		</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1384</span> </span><span class="WHIT">        		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">logoX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">SDLogo.img.width</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Logo is in centre of screen</span><span class="WHIT">
<span class='line'>1385</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.logo.animate</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">					</span><span class="COMM">// If it's bouncing...</span><span class="WHIT">
<span class='line'>1386</span> </span><span class="WHIT">        			</span><span class="NAME">logoY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">280</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">Math.sin</span><span class="PUNC">(</span><span class="NAME">logoPos</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">260</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// ... Get latest position of bounce</span><span class="WHIT">
<span class='line'>1387</span> </span><span class="WHIT">        			</span><span class="NAME">logoPos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.025</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// ... Set next position of bounce</span><span class="WHIT">
<span class='line'>1388</span> </span><span class="WHIT">        		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1389</span> </span><span class="WHIT">        		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">												</span><span class="COMM">// If it's static...</span><span class="WHIT">
<span class='line'>1390</span> </span><span class="WHIT">        	    	</span><span class="NAME">logoY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">;</span><span class="WHIT">											</span><span class="COMM">// ... Put at top of screen</span><span class="WHIT">
<span class='line'>1391</span> </span><span class="WHIT">        	    	</span><span class="NAME">logoPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1.8</span><span class="PUNC">;</span><span class="WHIT">										</span><span class="COMM">// ... and reset the bounce position</span><span class="WHIT">
<span class='line'>1392</span> </span><span class="WHIT">        		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1393</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.logo.wobble</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">						</span><span class="COMM">// If it's wobbling...</span><span class="WHIT">
<span class='line'>1394</span> </span><span class="WHIT">        		</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1395</span> </span><span class="WHIT">        			</span><span class="NAME">logoX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SDLogoWobbler.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// ... Add the wobble differentials to the X,Y Coords</span><span class="WHIT">
<span class='line'>1396</span> </span><span class="WHIT">        			</span><span class="NAME">logoY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">SDLogoWobbler.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1397</span> </span><span class="WHIT">        		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1398</span> </span><span class="WHIT">        		</span><span class="NAME">SDLogoScreen.draw</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="NAME">logoX</span><span class="PUNC">,</span><span class="NAME">logoY</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Now draw the logo on the screen at the coordinates calculated.</span><span class="WHIT">
<span class='line'>1399</span> </span><span class="WHIT">    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1400</span> </span><span class="WHIT">        	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1401</span> </span><span class="WHIT">        		</span><span class="NAME">SDLogoScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// If we're not doing the logo, just hide it.</span><span class="WHIT">
<span class='line'>1402</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1403</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1404</span> </span><span class="WHIT">        </span><span class="COMM">// 3D DISKFIELD</span><span class="WHIT">
<span class='line'>1405</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1406</span> </span><span class="WHIT">        </span><span class="COMM">// This is unusual in that there's hardly any CODEF in it! We're calculating the 3D ourselves. </span><span class="WHIT">
<span class='line'>1407</span> </span><span class="WHIT">        </span><span class="COMM">// This function is partially based on a 3D spritefield routine by Mellow Man.</span><span class="WHIT">
<span class='line'>1408</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1409</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1410</span> </span><span class="WHIT">        </span><span class="COMM">//		diskfield: true/false (default is false)</span><span class="WHIT">
<span class='line'>1411</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_diskField</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1412</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.diskfield</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1413</span> </span><span class="WHIT">        	    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">halfWidth</span><span class="WHIT">  </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">640</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Vanishing point in the centre of the screen</span><span class="WHIT">
<span class='line'>1414</span> </span><span class="WHIT">        	    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">halfHeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1415</span> </span><span class="WHIT">        	    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">length</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates.length</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1416</span> </span><span class="WHIT">        	 </span><span class="WHIT">
<span class='line'>1417</span> </span><span class="WHIT">        	    </span><span class="KEYW">for</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1418</span> </span><span class="WHIT">        	    	</span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">z</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.2</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Move each disk a little towards the viewer</span><span class="WHIT">
<span class='line'>1419</span> </span><span class="WHIT">        	 </span><span class="WHIT">
<span class='line'>1420</span> </span><span class="WHIT">    	        	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">z</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">				</span><span class="COMM">// If it's past the viewer, generate a new random coordinate at the back</span><span class="WHIT">
<span class='line'>1421</span> </span><span class="WHIT">    	        		</span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">random</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NUMB">25</span><span class="PUNC">,</span><span class="NUMB">25</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1422</span> </span><span class="WHIT">    	        		</span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">random</span><span class="PUNC">(</span><span class="PUNC">-</span><span class="NUMB">25</span><span class="PUNC">,</span><span class="NUMB">25</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1423</span> </span><span class="WHIT">    	        		</span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">z</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">maxDiskfieldDepth</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1424</span> </span><span class="WHIT">    	        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1425</span> </span><span class="WHIT">    	 </span><span class="WHIT">
<span class='line'>1426</span> </span><span class="WHIT">    	        	</span><span class="COMM">// Now convert the 3D coords to 2D</span><span class="WHIT">
<span class='line'>1427</span> </span><span class="WHIT">    	        	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">k</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">128</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">z</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Scale for 3D x,y coords accoring to z coordinate</span><span class="WHIT">
<span class='line'>1428</span> </span><span class="WHIT">    	        	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">k</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">halfWidth</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Scale 3D x-coord in relation to vanishing point to make Make 2D x-coord </span><span class="WHIT">
<span class='line'>1429</span> </span><span class="WHIT">    	        	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">k</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">halfHeight</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Scale 3D y-coord in relation to vanishing point to make Make 2D y-coord </span><span class="WHIT">
<span class='line'>1430</span> </span><span class="WHIT">    	 </span><span class="WHIT">
<span class='line'>1431</span> </span><span class="WHIT">    	        	</span><span class="COMM">// If the coordinate are within the bounds of the screen, we can draw the disk</span><span class="WHIT">
<span class='line'>1432</span> </span><span class="WHIT">    	        	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NUMB">640</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NUMB">480</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">						</span><span class="WHIT">
<span class='line'>1433</span> </span><span class="WHIT">    	          		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">size</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">z</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">32.0</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">5</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">8</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Work out the image scale according to the z-coord.</span><span class="WHIT">
<span class='line'>1434</span> </span><span class="WHIT">    	          		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">shade</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">parseInt</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">diskFieldCoordinates</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">z</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">32.0</span><span class="PUNC">)</span><span class="PUNC">*</span><span class="NUMB">255</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">/</span><span class="NUMB">255</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Work out the image shade according to the z-coord.</span><span class="WHIT">
<span class='line'>1435</span> </span><span class="WHIT">    	          		</span><span class="NAME">diskbobScreen.draw</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">shade</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Now we can put the scaled shaded image on the screen</span><span class="WHIT">
<span class='line'>1436</span> </span><span class="WHIT">    	        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1437</span> </span><span class="WHIT">        	    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1438</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1439</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1440</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1441</span> </span><span class="WHIT">        </span><span class="COMM">// VECTOR DISKS</span><span class="WHIT">
<span class='line'>1442</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1443</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1444</span> </span><span class="WHIT">        </span><span class="COMM">//		vectaDisk: true/false (default is false)				&lt;- "Standard" vectordisks</span><span class="WHIT">
<span class='line'>1445</span> </span><span class="WHIT">        </span><span class="COMM">//		vectaDisk: { </span><span class="WHIT">
<span class='line'>1446</span> </span><span class="WHIT">        </span><span class="COMM">//			wibble :true/false (default is false)				&lt;- "Agitated" vectordisks</span><span class="WHIT">
<span class='line'>1447</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1448</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_vectorDisks</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1449</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.vectaDisk</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">			</span><span class="COMM">// If vector disks are on...</span><span class="WHIT">
<span class='line'>1450</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.vectaDisk.wibble</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">	</span><span class="COMM">// If they're "agitated"...</span><span class="WHIT">
<span class='line'>1451</span> </span><span class="WHIT">        			</span><span class="COMM">// Do tweening to "base" position if needed</span><span class="WHIT">
<span class='line'>1452</span> </span><span class="WHIT">        			</span><span class="NAME">vectorDiskSRotX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tweenTo</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotX</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="WHIT">
<span class='line'>1453</span> </span><span class="WHIT">        			</span><span class="NAME">vectorDiskSRotY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tweenTo</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotY</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1454</span> </span><span class="WHIT">        			</span><span class="NAME">vectorDiskSRotZ</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tweenTo</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotZ</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1455</span> </span><span class="WHIT">        			</span><span class="NAME">vectorDiskDRotX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tweenTo</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotX</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1456</span> </span><span class="WHIT">        			</span><span class="NAME">vectorDiskDRotY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tweenTo</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotY</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1457</span> </span><span class="WHIT">        			</span><span class="NAME">vectorDiskDRotZ</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">tweenTo</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotZ</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1458</span> </span><span class="WHIT">        			</span><span class="COMM">// Now apply "agitated" "wibble" to their rotation!</span><span class="WHIT">
<span class='line'>1459</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskS.group.rotation.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskSWibble.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1460</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskS.group.rotation.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskSWibble.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1461</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskS.group.rotation.z</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskSRotZ</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskSWibble.z</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1462</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskD.group.rotation.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskDWibble.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1463</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskD.group.rotation.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskDWibble.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1464</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskD.group.rotation.z</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskDRotZ</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskDWibble.z</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1465</span> </span><span class="WHIT">        		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1466</span> </span><span class="WHIT">        		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">					</span><span class="COMM">// If they're not "agitated", just apply normal uniform rotation to them</span><span class="WHIT">
<span class='line'>1467</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskS.group.rotation.x</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">0.01</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="WHIT">
<span class='line'>1468</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskS.group.rotation.y</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">0.02</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1469</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskS.group.rotation.z</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">0.04</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1470</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskD.group.rotation.x</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="NUMB">0.01</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// The D rotates in the opposite direction to the S</span><span class="WHIT">
<span class='line'>1471</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskD.group.rotation.y</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="NUMB">0.02</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1472</span> </span><span class="WHIT">	        		</span><span class="NAME">vectorDiskD.group.rotation.z</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="NUMB">0.04</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1473</span> </span><span class="WHIT">	            	</span><span class="NAME">vectorDiskSRotX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskS.group.rotation.x</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Save the rotation (Sor when the "tween" is used.)</span><span class="WHIT">
<span class='line'>1474</span> </span><span class="WHIT">	            	</span><span class="NAME">vectorDiskSRotY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskS.group.rotation.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1475</span> </span><span class="WHIT">	            	</span><span class="NAME">vectorDiskSRotZ</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskS.group.rotation.z</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1476</span> </span><span class="WHIT">	            	</span><span class="NAME">vectorDiskDRotX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskD.group.rotation.x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1477</span> </span><span class="WHIT">	            	</span><span class="NAME">vectorDiskDRotY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskD.group.rotation.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1478</span> </span><span class="WHIT">	            	</span><span class="NAME">vectorDiskDRotZ</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskD.group.rotation.z</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1479</span> </span><span class="WHIT">	        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1480</span> </span><span class="WHIT">        		</span><span class="COMM">// Now, wobble their x,y coordinates</span><span class="WHIT">
<span class='line'>1481</span> </span><span class="WHIT">        		</span><span class="NAME">vectorDiskS.group.position.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskSX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskSWobble.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1482</span> </span><span class="WHIT">        		</span><span class="NAME">vectorDiskS.group.position.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskSY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskSWobble.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1483</span> </span><span class="WHIT">        		</span><span class="NAME">vectorDiskS.draw</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1484</span> </span><span class="WHIT">        		</span><span class="NAME">vectorDiskD.group.position.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskDX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskDWobble.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1485</span> </span><span class="WHIT">        		</span><span class="NAME">vectorDiskD.group.position.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">vectorDiskDY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">vectorDiskDWobble.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1486</span> </span><span class="WHIT">        		</span><span class="NAME">vectorDiskD.draw</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1487</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1488</span> </span><span class="WHIT">        	</span><span class="WHIT">
<span class='line'>1489</span> </span><span class="WHIT">        	</span><span class="COMM">// "Tween" for vector disks. This used when going into "agitated" mode, so </span><span class="WHIT">
<span class='line'>1490</span> </span><span class="WHIT">        	</span><span class="COMM">// that the vector objects drift back to their "base" position (ie unrotated) </span><span class="WHIT">
<span class='line'>1491</span> </span><span class="WHIT">        	</span><span class="COMM">// whilst wibbling!</span><span class="WHIT">
<span class='line'>1492</span> </span><span class="WHIT">        	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">tweenTo</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1493</span> </span><span class="WHIT">        		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">speed</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">  </span><span class="NUMB">0.04</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1494</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>1495</span> </span><span class="WHIT">        			</span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">speed</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1496</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>1497</span> </span><span class="WHIT">        			</span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">speed</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1498</span> </span><span class="WHIT">        		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1499</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1500</span> </span><span class="WHIT">        	</span><span class="WHIT">
<span class='line'>1501</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1502</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1503</span> </span><span class="WHIT">        </span><span class="COMM">// COLOUR BARS</span><span class="WHIT">
<span class='line'>1504</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1505</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1506</span> </span><span class="WHIT">        </span><span class="COMM">//		colourBar: { </span><span class="WHIT">
<span class='line'>1507</span> </span><span class="WHIT">        </span><span class="COMM">//			top :true/false (default is false),					&lt;- Top colour bar on/off</span><span class="WHIT">
<span class='line'>1508</span> </span><span class="WHIT">        </span><span class="COMM">//			bottom :true/false (default is false)				&lt;- Bottom colour bar on/off</span><span class="WHIT">
<span class='line'>1509</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1510</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_colourBar</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1511</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.colourBar</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1512</span> </span><span class="WHIT">	        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.colourBar.top</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">					</span><span class="COMM">// If we're drawing the top bar</span><span class="WHIT">
<span class='line'>1513</span> </span><span class="WHIT">	        		</span><span class="NAME">colourBar.draw</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">colourbarXTop</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">11</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Copy it from it's current source position</span><span class="WHIT">
<span class='line'>1514</span> </span><span class="WHIT">	        		</span><span class="NAME">colourbarXTop</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">colourBarSpeed</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// ... and move it along a bit.</span><span class="WHIT">
<span class='line'>1515</span> </span><span class="WHIT">	        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">colourbarXTop</span><span class="PUNC">>=</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> 								</span><span class="COMM">// If it's at the wrap point...</span><span class="WHIT">
<span class='line'>1516</span> </span><span class="WHIT">	        			</span><span class="NAME">colourbarXTop</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NUMB">640</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// ... reset it</span><span class="WHIT">
<span class='line'>1517</span> </span><span class="WHIT">	        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1518</span> </span><span class="WHIT">	        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.colourBar.bottom</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">				</span><span class="COMM">// If we're drawing the bottom bar</span><span class="WHIT">
<span class='line'>1519</span> </span><span class="WHIT">	        		</span><span class="NAME">colourBar.draw</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">colourbarXBottom</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">391</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Copy it from it's current source position</span><span class="WHIT">
<span class='line'>1520</span> </span><span class="WHIT">	        		</span><span class="NAME">colourbarXBottom</span><span class="PUNC">-</span><span class="PUNC">=</span><span class="NAME">colourBarSpeed</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// ... and move it along a bit. (Opposite direction to top bar)</span><span class="WHIT">
<span class='line'>1521</span> </span><span class="WHIT">	        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">colourbarXBottom</span><span class="PUNC">&lt;=</span><span class="PUNC">-</span><span class="NUMB">640</span><span class="PUNC">)</span><span class="WHIT">							</span><span class="COMM">// If it's at the wrap point...</span><span class="WHIT">
<span class='line'>1522</span> </span><span class="WHIT">	        			</span><span class="NAME">colourbarXBottom</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// ... reset it</span><span class="WHIT">
<span class='line'>1523</span> </span><span class="WHIT">	        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1524</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1525</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1526</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1527</span> </span><span class="WHIT">        </span><span class="COMM">// COPPER PIPES</span><span class="WHIT">
<span class='line'>1528</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1529</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1530</span> </span><span class="WHIT">        </span><span class="COMM">//		rasterBar: true/false (default is false)</span><span class="WHIT">
<span class='line'>1531</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_rasterBar</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1532</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.rasterBar</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">			</span><span class="COMM">// If we're showing the copper pipes...</span><span class="WHIT">
<span class='line'>1533</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar1Screen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1534</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar2Screen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1535</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar3Screen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1536</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar1Y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">330</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">Math.sin</span><span class="PUNC">(</span><span class="NAME">rasterBar1Pos</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Calculate their y-pos in the sinewave</span><span class="WHIT">
<span class='line'>1537</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar2Y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">330</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">Math.sin</span><span class="PUNC">(</span><span class="NAME">rasterBar2Pos</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1538</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar3Y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">330</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">Math.abs</span><span class="PUNC">(</span><span class="NAME">Math.sin</span><span class="PUNC">(</span><span class="NAME">rasterBar3Pos</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1539</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.rasterBar.wobble</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">							</span><span class="COMM">// If we're wobbling....</span><span class="WHIT">
<span class='line'>1540</span> </span><span class="WHIT">        			</span><span class="NAME">rasterBar1Y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterWobbler1.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// ... Add in the wobble</span><span class="WHIT">
<span class='line'>1541</span> </span><span class="WHIT">        			</span><span class="NAME">rasterBar2Y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterWobbler2.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1542</span> </span><span class="WHIT">        			</span><span class="NAME">rasterBar3Y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterWobbler3.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1543</span> </span><span class="WHIT">        		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1544</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar1Pos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBarSpeed</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Move sinewave along a bit for next frame</span><span class="WHIT">
<span class='line'>1545</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar2Pos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBarSpeed</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1546</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar3Pos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBarSpeed</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1547</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar1Screen.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar1Y</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Now position the pipes!</span><span class="WHIT">
<span class='line'>1548</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar2Screen.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar2Y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1549</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar3Screen.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">rasterBar3Y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1550</span> </span><span class="WHIT">    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1551</span> </span><span class="WHIT">        	</span><span class="KEYW">else</span><span class="WHIT">  </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1552</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar1Screen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1553</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar2Screen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1554</span> </span><span class="WHIT">        		</span><span class="NAME">rasterBar3Screen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1555</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1556</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1557</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1558</span> </span><span class="WHIT">        </span><span class="COMM">// BIG SPRITES</span><span class="WHIT">
<span class='line'>1559</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1560</span> </span><span class="WHIT">        </span><span class="COMM">// Pretty easy this- just get the x,y coords from each sprite's wave/wobble, and plot them.</span><span class="WHIT">
<span class='line'>1561</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1562</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1563</span> </span><span class="WHIT">        </span><span class="COMM">//		sprites: true/false (default is false)</span><span class="WHIT">
<span class='line'>1564</span> </span><span class="WHIT">        </span><span class="COMM">//		sprites: {</span><span class="WHIT">
<span class='line'>1565</span> </span><span class="WHIT">        </span><span class="COMM">//			bob: [Codef image of spriter bob you want to use]</span><span class="WHIT">
<span class='line'>1566</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1567</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_sprites</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1568</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.sprites</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">			</span><span class="COMM">// If we're drawing the sprites...</span><span class="WHIT">
<span class='line'>1569</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.sprites.bob</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> 			</span><span class="COMM">// If we're changing the sprite bob</span><span class="WHIT">
<span class='line'>1570</span> </span><span class="WHIT">        			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">currentBob</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">currentPart.sprites.bob</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">			</span><span class="COMM">// ... Check that it's different</span><span class="WHIT">
<span class='line'>1571</span> </span><span class="WHIT">        				</span><span class="NAME">currentBob</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">currentPart.sprites.bob</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// ... Then change it</span><span class="WHIT">
<span class='line'>1572</span> </span><span class="WHIT">        		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">noOfSprites</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1573</span> </span><span class="WHIT">        			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">x</span><span class="WHIT">  </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">spriteWobblers</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NUMB">640</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">currentBob.img.width</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> 	</span><span class="COMM">// Work out position of wave/wobble in relation to the centre of the screen and bob</span><span class="WHIT">
<span class='line'>1574</span> </span><span class="WHIT">        			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT">  </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">spriteWobblers</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NUMB">400</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">currentBob.img.height</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1575</span> </span><span class="WHIT">        			</span><span class="NAME">currentBob.draw</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">y</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">											</span><span class="COMM">// Now draw it.</span><span class="WHIT">
<span class='line'>1576</span> </span><span class="WHIT">        		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1577</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1578</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1579</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1580</span> </span><span class="WHIT">        </span><span class="COMM">// DADCUBE</span><span class="WHIT">
<span class='line'>1581</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1582</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1583</span> </span><span class="WHIT">        </span><span class="COMM">//		cube: true/false (default is false)					&lt;- Standard flying around and wobbling</span><span class="WHIT">
<span class='line'>1584</span> </span><span class="WHIT">        </span><span class="COMM">//		cube: {</span><span class="WHIT">
<span class='line'>1585</span> </span><span class="WHIT">        </span><span class="COMM">//			hold: true/false (default is false)				&lt;- Hold and wobble</span><span class="WHIT">
<span class='line'>1586</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1587</span> </span><span class="WHIT">        </span><span class="COMM">//		cube: {</span><span class="WHIT">
<span class='line'>1588</span> </span><span class="WHIT">        </span><span class="COMM">//			hold: {</span><span class="WHIT">
<span class='line'>1589</span> </span><span class="WHIT">        </span><span class="COMM">//				rot: true/false (default is false),			&lt;- Hold and madman rotation!</span><span class="WHIT">
<span class='line'>1590</span> </span><span class="WHIT">        </span><span class="COMM">//				bye: true/false (default is false)			&lt;- Madman rotation tumbling away!</span><span class="WHIT">
<span class='line'>1591</span> </span><span class="WHIT">        </span><span class="COMM">//			}</span><span class="WHIT">
<span class='line'>1592</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1593</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_dadCube</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1594</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.cube</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">			</span><span class="COMM">// If we're doing the cube</span><span class="WHIT">
<span class='line'>1595</span> </span><span class="WHIT">        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.cube.hold</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">		</span><span class="COMM">// If we're doing the hold...</span><span class="WHIT">
<span class='line'>1596</span> </span><span class="WHIT">        			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">dadCubeX</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">								</span><span class="COMM">// If this is the start of the hold...</span><span class="WHIT">
<span class='line'>1597</span> </span><span class="WHIT">        				</span><span class="NAME">dadCubeX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCube3D.group.position.x</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// ... Save the x,y coords </span><span class="WHIT">
<span class='line'>1598</span> </span><span class="WHIT">        				</span><span class="NAME">dadCubeY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCube3D.group.position.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1599</span> </span><span class="WHIT">        				</span><span class="NAME">dadCubeRotX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCube3D.group.rotation.x</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// ... and the rotation</span><span class="WHIT">
<span class='line'>1600</span> </span><span class="WHIT">        				</span><span class="NAME">dadCubeRotY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCube3D.group.rotation.y</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1601</span> </span><span class="WHIT">        				</span><span class="NAME">dadCubeRotZ</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCube3D.group.rotation.z</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1602</span> </span><span class="WHIT">        			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1603</span> </span><span class="WHIT">        			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.cube.hold.rot</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">						</span><span class="COMM">// If it's the mad rotation...</span><span class="WHIT">
<span class='line'>1604</span> </span><span class="WHIT">        				</span><span class="NAME">dadCube3D.group.rotation.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCubeRotX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldRotWobble.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// ... set the rotation via the wobbler</span><span class="WHIT">
<span class='line'>1605</span> </span><span class="WHIT">        				</span><span class="NAME">dadCube3D.group.rotation.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCubeRotY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldRotWobble.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1606</span> </span><span class="WHIT">        				</span><span class="NAME">dadCube3D.group.rotation.z</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCubeRotZ</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldRotWobble.z</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1607</span> </span><span class="WHIT">        			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1608</span> </span><span class="WHIT">        			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.cube.hold.bye</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">						</span><span class="COMM">// If it's going away...</span><span class="WHIT">
<span class='line'>1609</span> </span><span class="WHIT">        				</span><span class="NAME">dadCube3D.group.position.x</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldWobble.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// ... Have it sailing away towards the bottom right</span><span class="WHIT">
<span class='line'>1610</span> </span><span class="WHIT">        				</span><span class="NAME">dadCube3D.group.position.y</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldWobble.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1611</span> </span><span class="WHIT">        				</span><span class="NAME">dadCube3D.group.position.z</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1612</span> </span><span class="WHIT">        			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1613</span> </span><span class="WHIT">        			</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">													</span><span class="COMM">// Otherwise the standard hold is just to wobble the x,y coords</span><span class="WHIT">
<span class='line'>1614</span> </span><span class="WHIT">                		</span><span class="NAME">dadCube3D.group.position.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCubeX</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldWobble.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1615</span> </span><span class="WHIT">                		</span><span class="NAME">dadCube3D.group.position.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCubeY</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">dadCubeHoldWobble.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1616</span> </span><span class="WHIT">        			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1617</span> </span><span class="WHIT">        		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1618</span> </span><span class="WHIT">        		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">									</span><span class="COMM">// For normal flying around...</span><span class="WHIT">
<span class='line'>1619</span> </span><span class="WHIT">            		</span><span class="NAME">dadCube3D.group.rotation.x</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">0.01</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// ... Normal uniform rotation</span><span class="WHIT">
<span class='line'>1620</span> </span><span class="WHIT">            		</span><span class="NAME">dadCube3D.group.rotation.y</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">0.02</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1621</span> </span><span class="WHIT">            		</span><span class="NAME">dadCube3D.group.rotation.z</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="NUMB">0.04</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1622</span> </span><span class="WHIT">	        		</span><span class="NAME">dadCube3D.group.position.x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCubeMainWobble.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">      </span><span class="COMM">// Get next position in wave/wobble of cube  		</span><span class="WHIT">
<span class='line'>1623</span> </span><span class="WHIT">	        		</span><span class="NAME">dadCube3D.group.position.y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCubeMainWobble.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">        		</span><span class="WHIT">
<span class='line'>1624</span> </span><span class="WHIT">	        		</span><span class="NAME">dadCube3D.group.position.z</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">dadCubeMainWobble.z</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">        		</span><span class="WHIT">
<span class='line'>1625</span> </span><span class="WHIT">	            	</span><span class="NAME">dadCubeX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1626</span> </span><span class="WHIT">	            	</span><span class="NAME">dadCubeY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1627</span> </span><span class="WHIT">        		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1628</span> </span><span class="WHIT">        		</span><span class="COMM">// Now that all the rotation and position has been set, we can draw the cube!</span><span class="WHIT">
<span class='line'>1629</span> </span><span class="WHIT">        		</span><span class="NAME">dadCube3D.draw</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1630</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1631</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1632</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1633</span> </span><span class="WHIT">        </span><span class="COMM">// CHROMAKEY DISTYSCROLL</span><span class="WHIT">
<span class='line'>1634</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1635</span> </span><span class="WHIT">        </span><span class="COMM">// This projects a background through a disty scroller. You can change the backgrounds, and it'll scroll</span><span class="WHIT">
<span class='line'>1636</span> </span><span class="WHIT">        </span><span class="COMM">// through all the backgrounds till it gets to the right one. The background also wobbles.</span><span class="WHIT">
<span class='line'>1637</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1638</span> </span><span class="WHIT">        </span><span class="COMM">// This is definately the slowest part of the main demo, given that it does:</span><span class="WHIT">
<span class='line'>1639</span> </span><span class="WHIT">        </span><span class="COMM">// a) a scroller</span><span class="WHIT">
<span class='line'>1640</span> </span><span class="WHIT">        </span><span class="COMM">// b) dist on the scroller</span><span class="WHIT">
<span class='line'>1641</span> </span><span class="WHIT">        </span><span class="COMM">// c) a composite copy of the background on top of the dist</span><span class="WHIT">
<span class='line'>1642</span> </span><span class="WHIT">        </span><span class="COMM">// d) after all that, *then* it draws to the screen!</span><span class="WHIT">
<span class='line'>1643</span> </span><span class="WHIT">        </span><span class="COMM">// So there's probably a way to do it quicker!</span><span class="WHIT">
<span class='line'>1644</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1645</span> </span><span class="WHIT">        </span><span class="COMM">// LAYER OPTIONS:</span><span class="WHIT">
<span class='line'>1646</span> </span><span class="WHIT">        </span><span class="COMM">//		scroller: true/false (default is false)							&lt;- Run scroller with current background</span><span class="WHIT">
<span class='line'>1647</span> </span><span class="WHIT">        </span><span class="COMM">//		scroller: {</span><span class="WHIT">
<span class='line'>1648</span> </span><span class="WHIT">        </span><span class="COMM">//			back: [Number of background from background list (1-7)]		&lt;- Move to next background</span><span class="WHIT">
<span class='line'>1649</span> </span><span class="WHIT">        </span><span class="COMM">//		}</span><span class="WHIT">
<span class='line'>1650</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_scroller</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1651</span> </span><span class="WHIT">        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.scroller</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1652</span> </span><span class="WHIT">	        	</span><span class="NAME">scrollOffScreen.clear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1653</span> </span><span class="WHIT">	        	</span><span class="NAME">scrollScreen.clear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1654</span> </span><span class="WHIT">	        	</span><span class="NAME">scrollLine.draw</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1655</span> </span><span class="WHIT">	        	</span><span class="NAME">scrollFx.siny</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">55</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1656</span> </span><span class="WHIT">	        	</span><span class="NAME">scrollScreen.contex.globalCompositeOperation</span><span class="PUNC">=</span><span class="STRN">'source-atop'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1657</span> </span><span class="WHIT">	        	</span><span class="NAME">scrollBackScreen.drawPart</span><span class="PUNC">(</span><span class="NAME">scrollScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">currentScrollBackPos</span><span class="PUNC">+</span><span class="NAME">scrollBackWobbler.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1658</span> </span><span class="WHIT">	        	</span><span class="NAME">scrollScreen.draw</span><span class="PUNC">(</span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">260</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1659</span> </span><span class="WHIT">	        	</span><span class="NAME">scrollScreen.contex.globalCompositeOperation</span><span class="PUNC">=</span><span class="STRN">'source-over'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1660</span> </span><span class="WHIT">	        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.scroller.back</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1661</span> </span><span class="WHIT">	        		</span><span class="NAME">nextScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">currentPart.scroller.back</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">scrollBackSegmentHeight</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">10</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1662</span> </span><span class="WHIT">	        	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">currentScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="NAME">nextScrollBackPos</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1663</span> </span><span class="WHIT">	        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">currentScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">nextScrollBackPos</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>1664</span> </span><span class="WHIT">	        			</span><span class="NAME">currentScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1665</span> </span><span class="WHIT">	        		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">currentScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NAME">nextScrollBackPos</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>1666</span> </span><span class="WHIT">	        			</span><span class="NAME">currentScrollBackPos</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1667</span> </span><span class="WHIT">	        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1668</span> </span><span class="WHIT">        	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1669</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1670</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>1671</span> </span><span class="WHIT">        </span><span class="COMM">// The "ANY KEY" BUTTON</span><span class="WHIT">
<span class='line'>1672</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1673</span> </span><span class="WHIT">        </span><span class="COMM">// This simply slowly fades on the button. (Which was always there, but was invisible.)</span><span class="WHIT">
<span class='line'>1674</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">display_spacebar</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1675</span> </span><span class="WHIT">    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">currentPart.spacebar</span><span class="PUNC">)</span><span class="WHIT">					</span><span class="COMM">// If we've got the OK to show the button...</span><span class="WHIT">
<span class='line'>1676</span> </span><span class="WHIT">	    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">spacebarOpactity</span><span class="PUNC">&lt;</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">				</span><span class="COMM">// ... (Stop doing the fade, if the button is completely visible- opacity = 1)</span><span class="WHIT">
<span class='line'>1677</span> </span><span class="WHIT">	            	</span><span class="NAME">spacebarOpactity</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.025</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// ... Increase the opacity value a little each frame</span><span class="WHIT">
<span class='line'>1678</span> </span><span class="WHIT">	            	</span><span class="NAME">nextButton.style.opacity</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">spacebarOpactity</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// ... and use to to fade up the button</span><span class="WHIT">
<span class='line'>1679</span> </span><span class="WHIT">	    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1680</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1681</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>1682</span> </span><span class="WHIT">    	</span><span class="COMM">// END OF DEMO LAYERS ==========================================================================================</span><span class="WHIT">
<span class='line'>1683</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1684</span> 
<span class='line'>1685</span> </span><span class="WHIT">    </span><span class="COMM">// END OF MAIN DEMO ================================================================================================</span><span class="WHIT">
<span class='line'>1686</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">mainDemoAbort</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1687</span> </span><span class="WHIT">    	</span><span class="NAME">currentPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> 										</span><span class="COMM">// Reset demo schedule (For when it restarts)</span><span class="WHIT">
<span class='line'>1688</span> </span><span class="WHIT">    	</span><span class="NAME">currentPart.loop</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Switch off demo animation loop</span><span class="WHIT">
<span class='line'>1689</span> </span><span class="WHIT">    	</span><span class="NAME">nextButton.style.opacity</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"0"</span><span class="PUNC">;</span><span class="WHIT"> 						</span><span class="COMM">// Hide "any key" button</span><span class="WHIT">
<span class='line'>1690</span> </span><span class="WHIT">    	</span><span class="NAME">nextButton.style.cursor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"default"</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1691</span> </span><span class="WHIT">        </span><span class="NAME">nextButton.removeEventListener</span><span class="PUNC">(</span><span class="STRN">'mousedown'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">spaceBar</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Remove any events associated with "Any key" button.</span><span class="WHIT">
<span class='line'>1692</span> </span><span class="WHIT">        </span><span class="NAME">nextButton.removeEventListener</span><span class="PUNC">(</span><span class="STRN">'touchend'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">spaceBar</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1693</span> </span><span class="WHIT">    	</span><span class="NAME">music_Sashy.stop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">										</span><span class="COMM">// Stop the main music</span><span class="WHIT">
<span class='line'>1694</span> </span><span class="WHIT">    	</span><span class="NAME">defDemo.next</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">											</span><span class="COMM">// Go to the next part (Credits screen).</span><span class="WHIT">
<span class='line'>1695</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1696</span> 
<span class='line'>1697</span> </span><span class="WHIT">    </span><span class="COMM">// CREDITS SCREEN ==================================================================================================</span><span class="WHIT">
<span class='line'>1698</span> </span><span class="WHIT">    </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1699</span> </span><span class="WHIT">    </span><span class="COMM">// Plays "Rasero Team Fuck Out" music, and displays wobbly credits, like an old TV programme!</span><span class="WHIT">
<span class='line'>1700</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">credits</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1701</span> </span><span class="WHIT">    	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DEBUG</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="STRN">'scheduleInfo'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"&lt;br/>&lt;br/>Now playing the credits section. "</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// If we're dubugging, display that we're running credits screen</span><span class="WHIT">
<span class='line'>1702</span> 
<span class='line'>1703</span> </span><span class="WHIT">    	</span><span class="COMM">// INITALISE CREDITS VARIABLES</span><span class="WHIT">
<span class='line'>1704</span> </span><span class="WHIT">    	</span><span class="NAME">init_credits</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Set up credits scroller panel</span><span class="WHIT">
<span class='line'>1705</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">creditsLoopOn</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// If we're running the scredits screen</span><span class="WHIT">
<span class='line'>1706</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">endScreenTimer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">2500</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// How long the credits screen runs</span><span class="WHIT">
<span class='line'>1707</span> </span><span class="WHIT">    	</span><span class="COMM">// Now to set up the backdrop</span><span class="WHIT">
<span class='line'>1708</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">405</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Backdrop starts by flying up onto the screen			</span><span class="WHIT">
<span class='line'>1709</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Clear backdrop in readiness for the screen to fly up.</span><span class="WHIT">
<span class='line'>1710</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backdropInfo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">name</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"feat_back"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">animate</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">wobble</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Set the backdrop information.</span><span class="WHIT">
<span class='line'>1711</span> </span><span class="WHIT">    	</span><span class="COMM">// As we can get to the credits screen at any point in the main demo, there might be some layers</span><span class="WHIT">
<span class='line'>1712</span> </span><span class="WHIT">    	</span><span class="COMM">// from that part which are visible, so we'll fade those layers just as this screen is starting.</span><span class="WHIT">
<span class='line'>1713</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">fadescreens</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">mainScreen</span><span class="PUNC">,</span><span class="WHIT"> 				</span><span class="COMM">// Array of layers to fade</span><span class="WHIT">
<span class='line'>1714</span> </span><span class="WHIT">    	                    </span><span class="NAME">rasterBar1Screen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1715</span> </span><span class="WHIT">    	                    </span><span class="NAME">rasterBar2Screen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1716</span> </span><span class="WHIT">    	                    </span><span class="NAME">rasterBar3Screen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1717</span> </span><span class="WHIT">    	                    </span><span class="NAME">backGradientTopScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1718</span> </span><span class="WHIT">    	                    </span><span class="NAME">backGradientBottomScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1719</span> </span><span class="WHIT">    	                    </span><span class="NAME">titleDefScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1720</span> </span><span class="WHIT">    	                    </span><span class="NAME">titleDemoScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1721</span> </span><span class="WHIT">    	                    </span><span class="NAME">SDLogoScreen</span><span class="WHIT">
<span class='line'>1722</span> </span><span class="WHIT">    	                  </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1723</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">opacity</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Starting opacity of the layers (ie visible)</span><span class="WHIT">
<span class='line'>1724</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">fadeFinished</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// If the fade has finished.</span><span class="WHIT">
<span class='line'>1725</span> </span><span class="WHIT">    	</span><span class="COMM">// Now the variables for the credits scroller. This is a long panel containing the credits (See the init_credits function.)</span><span class="WHIT">
<span class='line'>1726</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">scrollEndpoint</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">creditsScreenText.canvas.height</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">400</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Where to finish scrolling the credits panel</span><span class="WHIT">
<span class='line'>1727</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">currentScrollPos</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">400</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Current y-pos of the credits panel in relation to the screen.</span><span class="WHIT">
<span class='line'>1728</span> </span><span class="WHIT">    	</span><span class="NAME">copperScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Show the "burpy" coppers layer. This layer is used by credits scroller. (See function draw_scroller below.)</span><span class="WHIT">
<span class='line'>1729</span> 
<span class='line'>1730</span> </span><span class="WHIT">    	</span><span class="NAME">window.onkeypress</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">end</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Press any key to go to the end of this part, and then onto the "end crash".</span><span class="WHIT">
<span class='line'>1731</span> </span><span class="WHIT">    	</span><span class="NAME">music_rasero.play</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Start playing "Rasero Team Fuck Out".</span><span class="WHIT">
<span class='line'>1732</span> </span><span class="WHIT">    	</span><span class="NAME">credits_loop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Now start the credits loop!</span><span class="WHIT">
<span class='line'>1733</span> 
<span class='line'>1734</span> </span><span class="WHIT">    	</span><span class="COMM">// CREDITS LOOP =====================================================================================================</span><span class="WHIT">
<span class='line'>1735</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">credits_loop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1736</span> </span><span class="WHIT">    		</span><span class="NAME">do_fade</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1737</span> </span><span class="WHIT">    		</span><span class="NAME">draw_backDrop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1738</span> </span><span class="WHIT">    		</span><span class="NAME">draw_scroller</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="WHIT">
<span class='line'>1739</span> </span><span class="WHIT">    		</span><span class="NAME">endScreenTimer</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Countdown the timer.</span><span class="WHIT">
<span class='line'>1740</span> </span><span class="WHIT">    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">endScreenTimer</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">end</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// If it gets to zero, end the credits!</span><span class="WHIT">
<span class='line'>1741</span> </span><span class="WHIT">    		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">creditsLoopOn</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">requestAnimFrame</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">credits_loop</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// ... otherwise if the demo is continuing, go to the next frame.</span><span class="WHIT">
<span class='line'>1742</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1743</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>1744</span> </span><span class="WHIT">    	</span><span class="COMM">// FADING MAIN DEMO LAYERS</span><span class="WHIT">
<span class='line'>1745</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">do_fade</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1746</span> </span><span class="WHIT">    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">fadeFinished</span><span class="PUNC">)</span><span class="WHIT">								</span><span class="COMM">// If we're still fading...</span><span class="WHIT">
<span class='line'>1747</span> </span><span class="WHIT">	    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">noOfScreens</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">fadescreens.length</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// ... get the number of layers we're fading.</span><span class="WHIT">
<span class='line'>1748</span> </span><span class="WHIT">	    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">opacity</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">								</span><span class="COMM">// If they're sill visible...</span><span class="WHIT">
<span class='line'>1749</span> </span><span class="WHIT">	    			</span><span class="NAME">opacity</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.025</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// ... fade the opacity a little bit for this frame ...</span><span class="WHIT">
<span class='line'>1750</span> </span><span class="WHIT">	    			</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">noOfScreens</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">		</span><span class="COMM">// ... and apply this to all the layers we need to fade</span><span class="WHIT">
<span class='line'>1751</span> </span><span class="WHIT">	    				</span><span class="NAME">fadescreens</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">canvas.style.opacity</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">opacity</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1752</span> </span><span class="WHIT">	    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1753</span> </span><span class="WHIT">	    		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">											</span><span class="COMM">// If they're not visible ...</span><span class="WHIT">
<span class='line'>1754</span> </span><span class="WHIT">	    			</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">noOfScreens</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT">		</span><span class="COMM">// ... hide all the layers ...</span><span class="WHIT">
<span class='line'>1755</span> </span><span class="WHIT">	    				</span><span class="NAME">fadescreens</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1756</span> </span><span class="WHIT">	    			</span><span class="NAME">fadeFinished</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// ... and stop the fade.</span><span class="WHIT">
<span class='line'>1757</span> </span><span class="WHIT">	    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1758</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1759</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>1760</span> </span><span class="WHIT">    	</span><span class="COMM">// CREDITS SCROLLER</span><span class="WHIT">
<span class='line'>1761</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1762</span> </span><span class="WHIT">    	</span><span class="COMM">// Draw a part of the credits panel onto the "burpy" coppers layer. The y-pos of the credits panel source is</span><span class="WHIT">
<span class='line'>1763</span> </span><span class="WHIT">    	</span><span class="COMM">// increased until it reaches the end of the panel, and then just stops. A wobble is also applied to the credits</span><span class="WHIT">
<span class='line'>1764</span> </span><span class="WHIT">    	</span><span class="COMM">// panel x,y position.</span><span class="WHIT">
<span class='line'>1765</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1766</span> </span><span class="WHIT">    	</span><span class="COMM">// The reason we're re-using the "burpy" coppers layer for displaying the credits is that it's the lowest layer </span><span class="WHIT">
<span class='line'>1767</span> </span><span class="WHIT">    	</span><span class="COMM">// in the layer stack above the backdrop layer. (And it also allows us to do the fade on the other layers above it.)</span><span class="WHIT">
<span class='line'>1768</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_scroller</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1769</span> </span><span class="WHIT">    		</span><span class="NAME">copperScreen.clear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="WHIT">
<span class='line'>1770</span> </span><span class="WHIT">    		</span><span class="COMM">// Draw from the credits panel, using the scroll position, and with a wobble applied to it.</span><span class="WHIT">
<span class='line'>1771</span> </span><span class="WHIT">    		</span><span class="NAME">creditsScreenText.drawPart</span><span class="PUNC">(</span><span class="NAME">copperScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">creditsWobbler.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">currentScrollPos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">creditsWobbler.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">640</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">400</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1772</span> </span><span class="WHIT">    		</span><span class="COMM">// If we're not at the end of the panel, increase the scroll position.</span><span class="WHIT">
<span class='line'>1773</span> </span><span class="WHIT">    		</span><span class="COMM">// If we're at the end, it'll just stop.</span><span class="WHIT">
<span class='line'>1774</span> </span><span class="WHIT">    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">currentScrollPos</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">scrollEndpoint</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">currentScrollPos</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1775</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1776</span> </span><span class="WHIT">    	</span><span class="WHIT">
<span class='line'>1777</span> </span><span class="WHIT">    	</span><span class="COMM">// BACKDROP</span><span class="WHIT">
<span class='line'>1778</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1779</span> </span><span class="WHIT">    	</span><span class="COMM">// This just calls the generic backdrop code to fling up the backdrop and wobble it about.</span><span class="WHIT">
<span class='line'>1780</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">draw_backDrop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1781</span> </span><span class="WHIT">        	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backDropChanges</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">backDrop</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backdropInfo</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1782</span> </span><span class="WHIT">        	</span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">backDropChanges.backDropY</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1783</span> </span><span class="WHIT">        	</span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">backDropChanges.backdropCleared</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1784</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1785</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>1786</span> </span><span class="WHIT">    	</span><span class="COMM">// INITALISE CREDITS PANEL</span><span class="WHIT">
<span class='line'>1787</span> </span><span class="WHIT">        </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1788</span> </span><span class="WHIT">        </span><span class="COMM">// This creates a long image panel on which it pre-draws the credits, and adds the Dad logo at the end.</span><span class="WHIT">
<span class='line'>1789</span> </span><span class="WHIT">        </span><span class="COMM">// The scroller then copies a window from this panel onto the screen, and slowly moves down the window</span><span class="WHIT">
<span class='line'>1790</span> </span><span class="WHIT">        </span><span class="COMM">// until it gets to the end. Probably a bit wasteful on memory, but it's quick, and makes the scroller </span><span class="WHIT">
<span class='line'>1791</span> </span><span class="WHIT">        </span><span class="COMM">// logic much easier.</span><span class="WHIT">
<span class='line'>1792</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">init_credits</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1793</span> </span><span class="WHIT">    		</span><span class="COMM">// Now the credits text. This is an array of individual lines for the credits. </span><span class="WHIT">
<span class='line'>1794</span> </span><span class="WHIT">    		</span><span class="COMM">// The font is 16 x 16 pixels, and the text display is 40 chars wide.</span><span class="WHIT">
<span class='line'>1795</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">creditsTexts</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>1796</span> </span><span class="WHIT">    		  </span><span class="COMM">//"0123456789012345678901234567890123456789",		&lt;- Guideline!</span><span class="WHIT">
<span class='line'>1797</span> </span><span class="WHIT">    			</span><span class="STRN">"YOU HAVE BEEN WATCHING A PRODUCTION BY.."</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="WHIT">
<span class='line'>1798</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1799</span> </span><span class="WHIT">    			</span><span class="STRN">"    THE MEGAMIGHTY FLIPPIN' BEST..... "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1800</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1801</span> </span><span class="WHIT">    			</span><span class="STRN">"        *** SENI0R = DADS ***!!!!! "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1802</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1803</span> </span><span class="WHIT">    			</span><span class="STRN">" With a new demo in CODEF called..."</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1804</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1805</span> </span><span class="WHIT">    			</span><span class="STRN">"=========== The 'DEF DEMO!! ============"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1806</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1807</span> </span><span class="WHIT">    			</span><span class="STRN">"A new standard in web browser based HTML"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1808</span> </span><span class="WHIT">    			</span><span class="STRN">"5 Javascript based demo programming!!!  "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1809</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1810</span> </span><span class="WHIT">    			</span><span class="STRN">"CREDITS!! (In order of appearance) ====="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1811</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1812</span> </span><span class="WHIT">    			</span><span class="STRN">"Even the mighty CODEF wasnt quite wot we"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1813</span> </span><span class="WHIT">    			</span><span class="STRN">"needed, so OLD FART and DODDERING GIT"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1814</span> </span><span class="WHIT">    			</span><span class="STRN">"wrote a highly advanced demo system to "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1815</span> </span><span class="WHIT">    			</span><span class="STRN">"make this monumental demo possible!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1816</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1817</span> </span><span class="WHIT">    			</span><span class="STRN">"We have named this highly advanced demo "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1818</span> </span><span class="WHIT">    			</span><span class="STRN">"system 'THE SENIOR DADS ADVANCED DEMO"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1819</span> </span><span class="WHIT">    			</span><span class="STRN">"SYSTEM'."</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1820</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1821</span> </span><span class="WHIT">    			</span><span class="STRN">"========================================"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1822</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1823</span> </span><span class="WHIT">    			</span><span class="STRN">"      'Senior Dads Present' screen, "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1824</span> </span><span class="WHIT">    			</span><span class="STRN">"       and demo art direction by... "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1825</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1826</span> </span><span class="WHIT">    			</span><span class="STRN">"           JACKSON POLLOCK!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1827</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1828</span> </span><span class="WHIT">    			</span><span class="STRN">"========================================"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1829</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1830</span> </span><span class="WHIT">    			</span><span class="STRN">"     EXCLUSIVE Disk Jockey Mix by..."</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1831</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1832</span> </span><span class="WHIT">    			</span><span class="STRN">"           DAME VERA LYNN!!!!! "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1833</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1834</span> </span><span class="WHIT">    			</span><span class="STRN">"This mix was inspired by top DJ Sasha!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1835</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1836</span> </span><span class="WHIT">    			</span><span class="STRN">"The name of the tune is 'Sashy Shit'."</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1837</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1838</span> </span><span class="WHIT">    			</span><span class="STRN">"INTRO!! ================================"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1839</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1840</span> </span><span class="WHIT">    			</span><span class="STRN">" Logo bouncer: OLD FART!!!!!!!!!!!!!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1841</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1842</span> </span><span class="WHIT">    			</span><span class="STRN">" Chromakey distyscroll: DODDERING GIT!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1843</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1844</span> </span><span class="WHIT">    			</span><span class="STRN">"TITLES!!! =============================="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1845</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1846</span> </span><span class="WHIT">    			</span><span class="STRN">"   Titles and Disty Dad: OLD FART!!!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1847</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1848</span> </span><span class="WHIT">    			</span><span class="STRN">"   Stars and Rasters: DODDERING GIT!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1849</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1850</span> </span><span class="WHIT">    			</span><span class="STRN">"   'Def Demo Logo:    JACKSON POLLOCK!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1851</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1852</span> </span><span class="WHIT">    			</span><span class="STRN">"COPPER PIPES!! ========================="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1853</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1854</span> </span><span class="WHIT">    			</span><span class="STRN">"      Moving background: OLD FART!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1855</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1856</span> </span><span class="WHIT">    			</span><span class="STRN">"      Copper Pipes: DODDERING GIT!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1857</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1858</span> </span><span class="WHIT">    			</span><span class="STRN">"DRUNKEN DAD!! =========================="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1859</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1860</span> </span><span class="WHIT">    			</span><span class="STRN">"      Disk Field: OLD FART!!!!!!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1861</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1862</span> </span><span class="WHIT">    			</span><span class="STRN">"      Beer rasters: DODDERING GIT!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1863</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1864</span> </span><span class="WHIT">    			</span><span class="STRN">"We were going to call it 'Piss Dad', but"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1865</span> </span><span class="WHIT">    			</span><span class="STRN">"we were told it might offend Americans!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1866</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1867</span> </span><span class="WHIT">    			</span><span class="STRN">"PHASE 4 STEREO!! ======================="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1868</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1869</span> </span><span class="WHIT">    			</span><span class="STRN">"    Phase 4 bobs: OLD FART!!!!!!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1870</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1871</span> </span><span class="WHIT">    			</span><span class="STRN">"    Phase 4 stereo: DODDERING GIT!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1872</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1873</span> </span><span class="WHIT">    			</span><span class="STRN">"This demo is in PHASE 4 STEREO!!!!!!!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1874</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1875</span> </span><span class="WHIT">    			</span><span class="STRN">"WE 'TRUMP' in 3D!! ====================="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1876</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1877</span> </span><span class="WHIT">    			</span><span class="STRN">"            Tri Dad-Mapping: "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1878</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1879</span> </span><span class="WHIT">    			</span><span class="STRN">"            OLD FART!!! AND"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1880</span> </span><span class="WHIT">    			</span><span class="STRN">"            DODDERING GIT!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1881</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1882</span> </span><span class="WHIT">    			</span><span class="STRN">"BTW We don't realy support Donald Trump-"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1883</span> </span><span class="WHIT">    			</span><span class="STRN">"We're actually taking the piddle!!!!!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1884</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1885</span> </span><span class="WHIT">    			</span><span class="STRN">"TRIDI DISKBOBS!! ======================"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1886</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1887</span> </span><span class="WHIT">    			</span><span class="STRN">"   Diskbobs: OLD FART!!!!!!!!!!!!!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1888</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1889</span> </span><span class="WHIT">    			</span><span class="STRN">"   Burpy Copper Bars: DODDERING GIT!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1890</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1891</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1892</span> </span><span class="WHIT">    			</span><span class="STRN">"CREDITS (HERE) !! ====================="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1893</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1894</span> </span><span class="WHIT">    			</span><span class="STRN">"     Music: 'Rasero Team Fuck Out' "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1895</span> </span><span class="WHIT">    			</span><span class="STRN">"     by DAME VERA LYNN!!!!!!!!!!!! "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1896</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1897</span> </span><span class="WHIT">    			</span><span class="STRN">"    Parallax background: OLD FART!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1898</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1899</span> </span><span class="WHIT">    			</span><span class="STRN">"    Scroller: DODDERING GIT!!!!!!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1900</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1901</span> </span><span class="WHIT">    			</span><span class="STRN">"======================================="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1902</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1903</span> </span><span class="WHIT">    			</span><span class="STRN">"Tweet us!!! @seniordads!!!!!  "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1904</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1905</span> </span><span class="WHIT">    			</span><span class="STRN">"Surf us!!!  seniordads.atari.org"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1906</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1907</span> </span><span class="WHIT">    			</span><span class="STRN">"Meet us!!!  Visit West Milton!!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1908</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1909</span> </span><span class="WHIT">    			</span><span class="STRN">"======================================="</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1910</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1911</span> </span><span class="WHIT">    			</span><span class="STRN">"        (c) SENIOR DADS IN THE "</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1912</span> </span><span class="WHIT">    			</span><span class="STRN">"       YEAR OF OUR LORD 2015!!!"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1913</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1914</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1915</span> </span><span class="WHIT">    			</span><span class="STRN">""</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1916</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">lineCount</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">creditsTexts.length</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// We'll need the number of lines in the credits text in order to calulate various things</span><span class="WHIT">
<span class='line'>1917</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">textHeight</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">  </span><span class="PUNC">(</span><span class="NUMB">16</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">lineCount</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// ... For example how high in pixel terms the credits are!</span><span class="WHIT">
<span class='line'>1918</span> </span><span class="WHIT">    		</span><span class="NAME">creditsScreenText</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">canvas</span><span class="PUNC">(</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">textHeight</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NUMB">400</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Create the image panel (Add in a screens worth of space for the Dads logo at the end.)</span><span class="WHIT">
<span class='line'>1919</span> 
<span class='line'>1920</span> </span><span class="WHIT">    		</span><span class="COMM">// Now to draw the credits onto the panel. We'll be using the same font we used in the scroller, so we'll</span><span class="WHIT">
<span class='line'>1921</span> </span><span class="WHIT">    		</span><span class="COMM">// be using the CODEF Tile draw function to achieve this. However, we'll also be using the scale option</span><span class="WHIT">
<span class='line'>1922</span> </span><span class="WHIT">    		</span><span class="COMM">// in the draw function to draw the 32x16 font elements as 16x16.</span><span class="WHIT">
<span class='line'>1923</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">x</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1924</span> </span><span class="WHIT">    		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1925</span> </span><span class="WHIT">    		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">lineCount</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">		</span><span class="COMM">// For each line in the credits ...</span><span class="WHIT">
<span class='line'>1926</span> </span><span class="WHIT">    			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">currentLine</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">creditsTexts</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Get the text</span><span class="WHIT">
<span class='line'>1927</span> </span><span class="WHIT">    			</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">linelength</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">currentLine.length</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Get how long it is</span><span class="WHIT">
<span class='line'>1928</span> </span><span class="WHIT">				</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">										</span><span class="COMM">// Start drawing on the left of the panel at this line</span><span class="WHIT">
<span class='line'>1929</span> </span><span class="WHIT">    			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">linelength</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">0</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">						</span><span class="COMM">// Don't bother if the line's blank.</span><span class="WHIT">
<span class='line'>1930</span> </span><span class="WHIT">    				</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">j</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">j</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">linelength</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">j</span><span class="PUNC">++</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">						</span><span class="COMM">// For each character in the line ...</span><span class="WHIT">
<span class='line'>1931</span> </span><span class="WHIT">    					</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">tileNo</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">currentLine.charCodeAt</span><span class="PUNC">(</span><span class="NAME">j</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="STRN">" "</span><span class="PUNC">.</span><span class="NAME">charCodeAt</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Get the font tile number from the ASCII code</span><span class="WHIT">
<span class='line'>1932</span> </span><span class="WHIT">    					</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">tileNo</span><span class="PUNC">></span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT">												</span><span class="COMM">// Unless it's the space character ...</span><span class="WHIT">
<span class='line'>1933</span> </span><span class="WHIT">    						</span><span class="NAME">SDFont.drawTile</span><span class="PUNC">(</span><span class="NAME">creditsScreenText</span><span class="PUNC">,</span><span class="NAME">tileNo</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">,</span><span class="NAME">y</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// ... Draw the font tile, scaled from 32x16 down to 16x16</span><span class="WHIT">
<span class='line'>1934</span> </span><span class="WHIT">        				</span><span class="NAME">x</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">16</span><span class="PUNC">;</span><span class="WHIT">													</span><span class="COMM">// Move onto next character position in panel</span><span class="WHIT">
<span class='line'>1935</span> </span><span class="WHIT">    				</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1936</span> </span><span class="WHIT">    			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1937</span> </span><span class="WHIT">    			</span><span class="NAME">y</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">16</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// Move onto next line position in panel</span><span class="WHIT">
<span class='line'>1938</span> </span><span class="WHIT">    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1939</span> </span><span class="WHIT">    		</span><span class="COMM">// Now draw the Dads logo in the centre of the space after the credits.</span><span class="WHIT">
<span class='line'>1940</span> </span><span class="WHIT">    		</span><span class="NAME">SDDistyDad.draw</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">creditsScreenText</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">320</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">SDDistyDad.img.width</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">textHeight</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NUMB">200</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">SDDistyDad.img.height</span><span class="PUNC">/</span><span class="NUMB">2</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1941</span> </span><span class="WHIT">    		</span><span class="COMM">// The credits have been drawn in opaque white from the source font. </span><span class="WHIT">
<span class='line'>1942</span> </span><span class="WHIT">    		</span><span class="COMM">// Now we'll colour them in a slightly translucent yellow.</span><span class="WHIT">
<span class='line'>1943</span> </span><span class="WHIT">    		</span><span class="NAME">creditsScreenText.contex.globalCompositeOperation</span><span class="PUNC">=</span><span class="STRN">'source-atop'</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// Next operation only affects the already drawn elements</span><span class="WHIT">
<span class='line'>1944</span> </span><span class="WHIT">    		</span><span class="NAME">creditsScreenText.quad</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NUMB">640</span><span class="PUNC">,</span><span class="NAME">textHeight</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"rgba(255,255,128,0.80"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">	</span><span class="COMM">// Colour everything apart from the Dads logo.</span><span class="WHIT">
<span class='line'>1945</span> </span><span class="WHIT">    		</span><span class="COMM">// Finally, the wobbler for the credits panel.</span><span class="WHIT">
<span class='line'>1946</span> </span><span class="WHIT">    		</span><span class="NAME">creditsWobbler</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Wobbler</span><span class="PUNC">(</span><span class="WHIT">
<span class='line'>1947</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>1948</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.30</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1949</span> </span><span class="WHIT">    				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.40</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1950</span> </span><span class="WHIT">    				</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1951</span> </span><span class="WHIT">    				</span><span class="PUNC">[</span><span class="WHIT">
<span class='line'>1952</span> </span><span class="WHIT">	 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.20</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>1953</span> </span><span class="WHIT">	 				 	</span><span class="PUNC">{</span><span class="NAME">value</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">amp</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">inc</span><span class="PUNC">:</span><span class="NUMB">0.10</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1954</span> </span><span class="WHIT">	 				</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1955</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1956</span> 
<span class='line'>1957</span> </span><span class="WHIT">    	</span><span class="COMM">// END OF DEMO LOOP</span><span class="WHIT">
<span class='line'>1958</span> </span><span class="WHIT">    	</span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1959</span> </span><span class="WHIT">    	</span><span class="COMM">// Easy one here, just stop the demo animation loop, (in case it fires again) and go to the Credits screen end</span><span class="WHIT">
<span class='line'>1960</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">end</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1961</span> </span><span class="WHIT">        	</span><span class="NAME">creditsLoopOn</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1962</span> </span><span class="WHIT">        	</span><span class="NAME">creditsAbort</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1963</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1964</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1965</span> </span><span class="WHIT">    </span><span class="WHIT">
<span class='line'>1966</span> </span><span class="WHIT">    </span><span class="COMM">// END OF CREDITS =============================================================================================</span><span class="WHIT">
<span class='line'>1967</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">creditsAbort</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1968</span> </span><span class="WHIT">    	</span><span class="NAME">music_rasero.stop</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Stop music</span><span class="WHIT">
<span class='line'>1969</span> </span><span class="WHIT">    	</span><span class="NAME">defDemo.next</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// Go to next part (End "crash")</span><span class="WHIT">
<span class='line'>1970</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>1971</span> 
<span class='line'>1972</span> </span><span class="WHIT">    </span><span class="COMM">// END "CRASH" =================================================================================================</span><span class="WHIT">
<span class='line'>1973</span> </span><span class="WHIT">    </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>1974</span> </span><span class="WHIT">    </span><span class="COMM">// Displays old-skool Atari Bombs, plays a "crash" sample. </span><span class="WHIT">
<span class='line'>1975</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">endCrash</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1976</span> </span><span class="WHIT">    	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DEBUG</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="STRN">'scheduleInfo'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"&lt;br/>&lt;br/>Now playing the end crash. "</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// More debug info!!!</span><span class="WHIT">
<span class='line'>1977</span> </span><span class="WHIT">    	</span><span class="NAME">requestAnimFrame</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">bomb</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Start the end "crash" on the next frame. (So as not to clash with the credits frame if it's still to finish.)</span><span class="WHIT">
<span class='line'>1978</span> 
<span class='line'>1979</span> </span><span class="WHIT">    	</span><span class="COMM">// CRASH!!!!!</span><span class="WHIT">
<span class='line'>1980</span> </span><span class="WHIT">    	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">bomb</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>1981</span> </span><span class="WHIT">    		</span><span class="COMM">// Create the end crash sample from a dump of about 1MB of Atari Falcon 030 low memory!!</span><span class="WHIT">
<span class='line'>1982</span> </span><span class="WHIT">            </span><span class="NAME">sampleWave</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">RIFFWAVE</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1983</span> </span><span class="WHIT">            </span><span class="NAME">sampleWave.header.numChannels</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">2</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Sample is stereo</span><span class="WHIT">
<span class='line'>1984</span> </span><span class="WHIT">            </span><span class="NAME">sampleWave.header.bitsPerSample</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">8</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// ... 8 bit</span><span class="WHIT">
<span class='line'>1985</span> </span><span class="WHIT">            </span><span class="NAME">sampleWave.header.sampleRate</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">25</span><span class="PUNC">*</span><span class="NUMB">1024</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// ... 25KHz</span><span class="WHIT">
<span class='line'>1986</span> </span><span class="WHIT">            </span><span class="COMM">// Copy the binary dump into an array of sample data for the sample player</span><span class="WHIT">
<span class='line'>1987</span> </span><span class="WHIT">            </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">sampleLength</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">65536</span><span class="PUNC">*</span><span class="NUMB">8</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1988</span> </span><span class="WHIT">            </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">sampleDataSrc</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Uint8Array</span><span class="PUNC">(</span><span class="NAME">endSample</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">sampleLength</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1989</span> </span><span class="WHIT">            </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">sampleData</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1990</span> </span><span class="WHIT">            </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">&lt;</span><span class="NAME">sampleLength</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>1991</span> </span><span class="WHIT">            	</span><span class="NAME">sampleData</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">sampleDataSrc</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1992</span> </span><span class="WHIT">            </span><span class="COMM">// Now make the sample player from the sample data, and hook it up to the HTML5 AUdio.</span><span class="WHIT">
<span class='line'>1993</span> </span><span class="WHIT">            </span><span class="NAME">sampleWave.Make</span><span class="PUNC">(</span><span class="NAME">sampleData</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1994</span> </span><span class="WHIT">            </span><span class="NAME">samplePlayer</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Audio</span><span class="PUNC">(</span><span class="NAME">sampleWave.dataURI</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1995</span> </span><span class="WHIT">            </span><span class="COMM">// Now play the "crash" sample.</span><span class="WHIT">
<span class='line'>1996</span> </span><span class="WHIT">            </span><span class="NAME">samplePlayer.play</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1997</span> </span><span class="WHIT">            </span><span class="COMM">// Now to plot Atari TOS bombs on the screen!</span><span class="WHIT">
<span class='line'>1998</span> </span><span class="WHIT">	    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">bomber</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SeniorDads.Bomb</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>1999</span> </span><span class="WHIT">			</span><span class="NAME">bomber.bombCanvas</span><span class="PUNC">(</span><span class="NAME">copperScreen</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">14</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">		</span><span class="COMM">// 14 bombs = "Format error". (Obvious joke)</span><span class="WHIT">
<span class='line'>2000</span> </span><span class="WHIT">	        </span><span class="NAME">demoWindow.WaitVbl</span><span class="PUNC">(</span><span class="NUMB">100</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">end</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// Wait a bit before ending</span><span class="WHIT">
<span class='line'>2001</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2002</span> 
<span class='line'>2003</span> </span><span class="WHIT">    	</span><span class="COMM">// END OF "CRASH"</span><span class="WHIT">
<span class='line'>2004</span> </span><span class="WHIT">        </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">end</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2005</span> </span><span class="WHIT">            </span><span class="NAME">demoWindow.FlushWaitVbl</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2006</span> </span><span class="WHIT">        	</span><span class="NAME">samplePlayer.pause</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// Stop the sample</span><span class="WHIT">
<span class='line'>2007</span> </span><span class="WHIT">        	</span><span class="NAME">defDemo.next</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">								</span><span class="COMM">// Go to the end of the demo.</span><span class="WHIT">
<span class='line'>2008</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2009</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2010</span> 
<span class='line'>2011</span> </span><span class="WHIT">    </span><span class="COMM">// END OF DEMO ===================================================================================================</span><span class="WHIT">
<span class='line'>2012</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">endDemo</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2013</span> </span><span class="WHIT">    	</span><span class="NAME">copperScreen.fill</span><span class="PUNC">(</span><span class="STRN">"#ffffff"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">																		</span><span class="COMM">// Whiteout!</span><span class="WHIT">
<span class='line'>2014</span> </span><span class="WHIT">    	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">DEBUG</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="STRN">'scheduleInfo'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"&lt;br/>&lt;br/>END OF DEMO. "</span><span class="PUNC">;</span><span class="WHIT">			</span><span class="COMM">// Guess what?</span><span class="WHIT">
<span class='line'>2015</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2016</span> </span><span class="WHIT">    </span><span class="WHIT">
<span class='line'>2017</span> </span><span class="WHIT">    </span><span class="COMM">// GENERIC ROUTINES ==============================================================================================</span><span class="WHIT">
<span class='line'>2018</span> 
<span class='line'>2019</span> </span><span class="WHIT">    </span><span class="COMM">// Make random number within a min, max range.</span><span class="WHIT">
<span class='line'>2020</span> </span><span class="WHIT">	</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">random</span><span class="PUNC">(</span><span class="NAME">min</span><span class="PUNC">,</span><span class="NAME">max</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Math.floor</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">Math.random</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">max</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">min</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">min</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2021</span> </span><span class="WHIT">    </span><span class="WHIT">
<span class='line'>2022</span> </span><span class="WHIT">	</span><span class="COMM">// If an optional value doesn't exist, return a default value</span><span class="WHIT">
<span class='line'>2023</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">optionalDefault</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">defaultValue</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2024</span> </span><span class="WHIT">    	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">===</span><span class="WHIT"> </span><span class="NAME">undefined</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">defaultValue</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2025</span> </span><span class="WHIT">    	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">defaultValue</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2026</span> </span><span class="WHIT">    	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2027</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2028</span> </span><span class="WHIT">        </span><span class="WHIT">
<span class='line'>2029</span> </span><span class="WHIT">    </span><span class="COMM">// If an optional value doesn't exist, return true</span><span class="WHIT">
<span class='line'>2030</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">defaultTrue</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">optionalDefault</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2031</span> 
<span class='line'>2032</span> </span><span class="WHIT">    </span><span class="COMM">// If an optional value doesn't exist, return false</span><span class="WHIT">
<span class='line'>2033</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">optionalDefault</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">value</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2034</span> </span><span class="WHIT">    </span><span class="WHIT">
<span class='line'>2035</span> </span><span class="WHIT">    </span><span class="COMM">// (WOBBLY) BACKDROP</span><span class="WHIT">
<span class='line'>2036</span> </span><span class="WHIT">    </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>2037</span> </span><span class="WHIT">    </span><span class="COMM">// Copy an image to the backdrop screen, and (optionally) wobble it about.</span><span class="WHIT">
<span class='line'>2038</span> </span><span class="WHIT">    </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>2039</span> </span><span class="WHIT">    </span><span class="COMM">// This was originally part of the main demo section, and hence with it's scope,</span><span class="WHIT">
<span class='line'>2040</span> </span><span class="WHIT">    </span><span class="COMM">// like the other layers. However as we wanted to use in the Credits screen, we </span><span class="WHIT">
<span class='line'>2041</span> </span><span class="WHIT">    </span><span class="COMM">// put it in the general demo scope, so the Credits section could acccss it.</span><span class="WHIT">
<span class='line'>2042</span> </span><span class="WHIT">    </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>2043</span> </span><span class="WHIT">    </span><span class="COMM">// Parameters:</span><span class="WHIT">
<span class='line'>2044</span> </span><span class="WHIT">    </span><span class="COMM">// 	backdropInfo    - a backdrop lement of a demo layer (see the main demo for more info about layers)</span><span class="WHIT">
<span class='line'>2045</span> </span><span class="WHIT">    </span><span class="COMM">//  backDropY       - y-pos of backdrop source image</span><span class="WHIT">
<span class='line'>2046</span> </span><span class="WHIT">    </span><span class="COMM">//  backdropCleared - whether the backdrop has been cleared</span><span class="WHIT">
<span class='line'>2047</span> </span><span class="WHIT">    </span><span class="COMM">//</span><span class="WHIT">
<span class='line'>2048</span> </span><span class="WHIT">    </span><span class="COMM">// Returns an object containg the following properties:</span><span class="WHIT">
<span class='line'>2049</span> </span><span class="WHIT">    </span><span class="COMM">//  backDropY       - y-pos of backdrop source image</span><span class="WHIT">
<span class='line'>2050</span> </span><span class="WHIT">    </span><span class="COMM">//  backdropCleared - whether the backdrop has been cleared</span><span class="WHIT">
<span class='line'>2051</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">backDrop</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backdropInfo</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>2052</span> </span><span class="WHIT">    	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">defaultFalse</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">backdropInfo</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">			</span><span class="COMM">// If we're showing the backdrop</span><span class="WHIT">
<span class='line'>2053</span> </span><span class="WHIT">    		</span><span class="NAME">backDropScreen.show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">							</span><span class="COMM">// ... show it</span><span class="WHIT">
<span class='line'>2054</span> </span><span class="WHIT">    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">backdropInfo.animate</span><span class="PUNC">)</span><span class="WHIT"> 						</span><span class="COMM">// If We're flinging it in ...</span><span class="WHIT">
<span class='line'>2055</span> </span><span class="WHIT">    			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NUMB">5</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">20</span><span class="PUNC">;</span><span class="WHIT">				</span><span class="COMM">// ... continue to move it in</span><span class="WHIT">
<span class='line'>2056</span> </span><span class="WHIT">    			</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2057</span> </span><span class="WHIT">    		</span><span class="KEYW">else</span><span class="WHIT">
<span class='line'>2058</span> </span><span class="WHIT">    			</span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">									</span><span class="COMM">// .. Otherwise, it's at the top of the screen</span><span class="WHIT">
<span class='line'>2059</span> </span><span class="WHIT">    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">backdropInfo.wobble</span><span class="PUNC">)</span><span class="WHIT">			</span><span class="COMM">// If it's wobbling, copy image to screen with wobble offset.</span><span class="WHIT">
<span class='line'>2060</span> </span><span class="WHIT">    			</span><span class="NAME">backDropImages</span><span class="PUNC">[</span><span class="NAME">backdropInfo.name</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">drawPart</span><span class="PUNC">(</span><span class="NAME">backDropScreen</span><span class="PUNC">,</span><span class="NAME">backDropWobbler.h</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">backDropWobbler.v</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">645</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">405</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2061</span> </span><span class="WHIT">    		</span><span class="KEYW">else</span><span class="WHIT">								</span><span class="COMM">// If not, just copy image to screen</span><span class="WHIT">
<span class='line'>2062</span> </span><span class="WHIT">    			</span><span class="NAME">backDropImages</span><span class="PUNC">[</span><span class="NAME">backdropInfo.name</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">drawPart</span><span class="PUNC">(</span><span class="NAME">backDropScreen</span><span class="PUNC">,</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="NAME">backDropY</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">640</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">400</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2063</span> </span><span class="WHIT">			</span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2064</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2065</span> </span><span class="WHIT">    	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">									</span><span class="COMM">// If we're not showing the backdrop...</span><span class="WHIT">
<span class='line'>2066</span> </span><span class="WHIT">    		</span><span class="NAME">backDropScreen.hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// ... hide the screen</span><span class="WHIT">
<span class='line'>2067</span> </span><span class="WHIT">    		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">backdropCleared</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">					</span><span class="COMM">// ... clear it if we need to</span><span class="WHIT">
<span class='line'>2068</span> </span><span class="WHIT">    			</span><span class="NAME">backDropScreen.clear</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2069</span> </span><span class="WHIT">    			</span><span class="NAME">backdropCleared</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2070</span> </span><span class="WHIT">    		</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2071</span> </span><span class="WHIT">    		</span><span class="NAME">backDropY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">405</span><span class="PUNC">;</span><span class="WHIT">						</span><span class="COMM">// ... reset the y-pos</span><span class="WHIT">
<span class='line'>2072</span> </span><span class="WHIT">    	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2073</span> </span><span class="WHIT">    	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">backDropChanges</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Object</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">					</span><span class="COMM">// Now return back any changes made</span><span class="WHIT">
<span class='line'>2074</span> </span><span class="WHIT">    	</span><span class="NAME">backDropChanges.backDropY</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">backDropY</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2075</span> </span><span class="WHIT">    	</span><span class="NAME">backDropChanges.backdropCleared</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">backdropCleared</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2076</span> </span><span class="WHIT">    	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">backDropChanges</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2077</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>2078</span> 
<span class='line'>2079</span> </span><span class="WHIT">    </span><span class="COMM">// Called whenever the "Any Key" is pressed. Goes to next part of demo.</span><span class="WHIT">
<span class='line'>2080</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">spaceBar</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">defDemo.currentPart</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">abort</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>2081</span> </span><span class="WHIT">    </span><span class="WHIT">
<span class='line'>2082</span> </span><span class="WHIT">    </span><span class="COMM">// THE END ==============================================================================================================</span><span class="WHIT">
<span class='line'>2083</span> </span><span class="WHIT">    </span><span class="WHIT">
<span class='line'>2084</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">// Bye!</span><span class="WHIT">
<span class='line'>2085</span> </span></pre></body></html>